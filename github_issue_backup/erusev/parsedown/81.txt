{
  "url": "https://api.github.com/repos/erusev/parsedown/issues/81",
  "labels_url": "https://api.github.com/repos/erusev/parsedown/issues/81/labels{/name}",
  "comments_url": "https://api.github.com/repos/erusev/parsedown/issues/81/comments",
  "events_url": "https://api.github.com/repos/erusev/parsedown/issues/81/events",
  "html_url": "https://github.com/erusev/parsedown/issues/81",
  "id": 26743409,
  "number": 81,
  "title": "Parts of list item missing in parsed output",
  "user": {
    "login": "cebe",
    "id": 189796,
    "avatar_url": "https://avatars.githubusercontent.com/u/189796?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cebe",
    "html_url": "https://github.com/cebe",
    "followers_url": "https://api.github.com/users/cebe/followers",
    "following_url": "https://api.github.com/users/cebe/following{/other_user}",
    "gists_url": "https://api.github.com/users/cebe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cebe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cebe/subscriptions",
    "organizations_url": "https://api.github.com/users/cebe/orgs",
    "repos_url": "https://api.github.com/users/cebe/repos",
    "events_url": "https://api.github.com/users/cebe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cebe/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "url": "https://api.github.com/repos/erusev/parsedown/labels/issue",
      "name": "issue",
      "color": "f7c6c7"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "milestone": null,
  "comments": 6,
  "created_at": "2014-02-01T17:49:10Z",
  "updated_at": "2014-02-05T12:03:45Z",
  "closed_at": "2014-02-05T12:03:45Z",
  "body": "The following markdown:\r\n```markdown\r\n* [[\\yii\\caching\\ApcCache]]: uses PHP [APC](http://php.net/manual/en/book.apc.php) extension. This option can be\r\n  considered as the fastest one when dealing with cache for a centralized thick application (e.g. one\r\n  server, no dedicated load balancers, etc.).\r\n\r\n* [[\\yii\\caching\\DbCache]]: uses a database table to store cached data. By default, it will create and use a\r\n  [SQLite3](http://sqlite.org/) database under the runtime directory. You can explicitly specify a database for\r\n  it to use by setting its `db` property.\r\n```\r\nRenders like this in GFM:\r\n\r\n----\r\n\r\n* [[\\yii\\caching\\ApcCache]]: uses PHP [APC](http://php.net/manual/en/book.apc.php) extension. This option can be\r\n  considered as the fastest one when dealing with cache for a centralized thick application (e.g. one\r\n  server, no dedicated load balancers, etc.).\r\n\r\n* [[\\yii\\caching\\DbCache]]: uses a database table to store cached data. By default, it will create and use a\r\n  [SQLite3](http://sqlite.org/) database under the runtime directory. You can explicitly specify a database for\r\n  it to use by setting its `db` property.\r\n\r\n----\r\nbut in parsedown output there are parts missing from the list item text.",
  "closed_by": {
    "login": "erusev",
    "id": 184170,
    "avatar_url": "https://avatars.githubusercontent.com/u/184170?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/erusev",
    "html_url": "https://github.com/erusev",
    "followers_url": "https://api.github.com/users/erusev/followers",
    "following_url": "https://api.github.com/users/erusev/following{/other_user}",
    "gists_url": "https://api.github.com/users/erusev/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/erusev/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/erusev/subscriptions",
    "organizations_url": "https://api.github.com/users/erusev/orgs",
    "repos_url": "https://api.github.com/users/erusev/repos",
    "events_url": "https://api.github.com/users/erusev/events{/privacy}",
    "received_events_url": "https://api.github.com/users/erusev/received_events",
    "type": "User",
    "site_admin": false
  }
}
BODY STARTS FROM HERE
[
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33909946",
    "html_url": "https://github.com/erusev/parsedown/issues/81#issuecomment-33909946",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/81",
    "id": 33909946,
    "user": {
      "login": "hkdobrev",
      "id": 506129,
      "avatar_url": "https://avatars.githubusercontent.com/u/506129?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hkdobrev",
      "html_url": "https://github.com/hkdobrev",
      "followers_url": "https://api.github.com/users/hkdobrev/followers",
      "following_url": "https://api.github.com/users/hkdobrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/hkdobrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hkdobrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hkdobrev/subscriptions",
      "organizations_url": "https://api.github.com/users/hkdobrev/orgs",
      "repos_url": "https://api.github.com/users/hkdobrev/repos",
      "events_url": "https://api.github.com/users/hkdobrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hkdobrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-02T19:37:53Z",
    "updated_at": "2014-02-02T19:38:32Z",
    "body": "It's worth noting the original Markdown parser renders it as:\r\n``` html\r\n<ul>\r\n<li>[[\\yii</li>\r\n</ul>\r\n```\r\n\r\nSource: http://daringfireball.net/projects/markdown/dingus"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33911352",
    "html_url": "https://github.com/erusev/parsedown/issues/81#issuecomment-33911352",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/81",
    "id": 33911352,
    "user": {
      "login": "hkdobrev",
      "id": 506129,
      "avatar_url": "https://avatars.githubusercontent.com/u/506129?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hkdobrev",
      "html_url": "https://github.com/hkdobrev",
      "followers_url": "https://api.github.com/users/hkdobrev/followers",
      "following_url": "https://api.github.com/users/hkdobrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/hkdobrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hkdobrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hkdobrev/subscriptions",
      "organizations_url": "https://api.github.com/users/hkdobrev/orgs",
      "repos_url": "https://api.github.com/users/hkdobrev/repos",
      "events_url": "https://api.github.com/users/hkdobrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hkdobrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-02T20:23:59Z",
    "updated_at": "2014-02-03T14:49:33Z",
    "body": "The current rendering of Parsedown is like that because it thinks the first line of each list item is the URL definition of an implicit reference link.\r\n\r\nSo if you escape the `[` and `]` like so:\r\n``` md\r\n* \\[\\[\\yii\\caching\\ApcCache\\]\\]: uses PHP [APC](http://php.net/manual/en/book.apc.php) extension. This option can be\r\n  considered as the fastest one when dealing with cache for a centralized thick application (e.g. one\r\n  server, no dedicated load balancers, etc.).\r\n\r\n* \\[\\[\\yii\\caching\\DbCache\\]\\]: uses a database table to store cached data. By default, it will create and use a\r\n  [SQLite3](http://sqlite.org/) database under the runtime directory. You can explicitly specify a database for\r\n  it to use by setting its `db` property.\r\n```\r\n\r\nYou would get:\r\n``` html\r\n<ul>\r\n<li>\r\n<p>[[\\yii\\caching\\ApcCache]]: uses PHP <a href=\"http://php.net/manual/en/book.apc.php\">APC</a> extension. This option can be\r\nconsidered as the fastest one when dealing with cache for a centralized thick application (e.g. one\r\nserver, no dedicated load balancers, etc.).</p>\r\n</li>\r\n<li>\r\n<p>[[\\yii\\caching\\DbCache]]: uses a database table to store cached data. By default, it will create and use a</p>\r\n<p><a href=\"http://sqlite.org/\">SQLite3</a> database under the runtime directory. You can explicitly specify a database for\r\nit to use by setting its <code>db</code> property.</p>\r\n</li>\r\n</ul>\r\n```\r\n\r\nThere are several problems I see here:\r\n- The most important is this is recognized as a reference. According to the spec there should be an URL after the colon.\r\n- The second list item is split in paragraphs, because of the link. As you can see the third line of the second list item is not in a different paragraph.\r\n- When there are no matching reference link and a reference URL definition, the Markdown should be rendered as-is and not missing. I know this would not be a valid Markdown, but there could be a simple graceful fallback instead of missing content.\r\n\r\nExample for the last problem:\r\n\r\n    [another]: http://example.com\r\n\r\n\r\nParsedown just skips it."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33913895",
    "html_url": "https://github.com/erusev/parsedown/issues/81#issuecomment-33913895",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/81",
    "id": 33913895,
    "user": {
      "login": "erusev",
      "id": 184170,
      "avatar_url": "https://avatars.githubusercontent.com/u/184170?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erusev",
      "html_url": "https://github.com/erusev",
      "followers_url": "https://api.github.com/users/erusev/followers",
      "following_url": "https://api.github.com/users/erusev/following{/other_user}",
      "gists_url": "https://api.github.com/users/erusev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erusev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erusev/subscriptions",
      "organizations_url": "https://api.github.com/users/erusev/orgs",
      "repos_url": "https://api.github.com/users/erusev/repos",
      "events_url": "https://api.github.com/users/erusev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erusev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-02T21:44:30Z",
    "updated_at": "2014-02-02T21:44:47Z",
    "body": "@cebe \r\n\r\nThanks!\r\n\r\n@hkdobrev \r\n\r\n> The most important is this is recognized as a reference.\r\n\r\nYou are correct.\r\n\r\n> The second list item is split in paragraphs, because of the link. As you can see the third line of the second list item is not in a different paragraph.\r\n\r\nI'm not sure I understand this."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33916459",
    "html_url": "https://github.com/erusev/parsedown/issues/81#issuecomment-33916459",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/81",
    "id": 33916459,
    "user": {
      "login": "hkdobrev",
      "id": 506129,
      "avatar_url": "https://avatars.githubusercontent.com/u/506129?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hkdobrev",
      "html_url": "https://github.com/hkdobrev",
      "followers_url": "https://api.github.com/users/hkdobrev/followers",
      "following_url": "https://api.github.com/users/hkdobrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/hkdobrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hkdobrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hkdobrev/subscriptions",
      "organizations_url": "https://api.github.com/users/hkdobrev/orgs",
      "repos_url": "https://api.github.com/users/hkdobrev/repos",
      "events_url": "https://api.github.com/users/hkdobrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hkdobrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-02T23:08:26Z",
    "updated_at": "2014-02-02T23:08:26Z",
    "body": "@erusev See the rendered HTML I've posted when you escape the brackets. The second list item is inconsistently split into paragraphs."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33916505",
    "html_url": "https://github.com/erusev/parsedown/issues/81#issuecomment-33916505",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/81",
    "id": 33916505,
    "user": {
      "login": "erusev",
      "id": 184170,
      "avatar_url": "https://avatars.githubusercontent.com/u/184170?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erusev",
      "html_url": "https://github.com/erusev",
      "followers_url": "https://api.github.com/users/erusev/followers",
      "following_url": "https://api.github.com/users/erusev/following{/other_user}",
      "gists_url": "https://api.github.com/users/erusev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erusev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erusev/subscriptions",
      "organizations_url": "https://api.github.com/users/erusev/orgs",
      "repos_url": "https://api.github.com/users/erusev/repos",
      "events_url": "https://api.github.com/users/erusev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erusev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-02T23:10:42Z",
    "updated_at": "2014-02-02T23:10:42Z",
    "body": "@hkdobrev \r\n\r\nI'm unable to reproduce it.\r\n\r\nI could have been specific to the previous version."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33960373",
    "html_url": "https://github.com/erusev/parsedown/issues/81#issuecomment-33960373",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/81",
    "id": 33960373,
    "user": {
      "login": "wkpark",
      "id": 232347,
      "avatar_url": "https://avatars.githubusercontent.com/u/232347?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wkpark",
      "html_url": "https://github.com/wkpark",
      "followers_url": "https://api.github.com/users/wkpark/followers",
      "following_url": "https://api.github.com/users/wkpark/following{/other_user}",
      "gists_url": "https://api.github.com/users/wkpark/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wkpark/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wkpark/subscriptions",
      "organizations_url": "https://api.github.com/users/wkpark/orgs",
      "repos_url": "https://api.github.com/users/wkpark/repos",
      "events_url": "https://api.github.com/users/wkpark/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wkpark/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-03T14:47:00Z",
    "updated_at": "2014-02-03T14:47:00Z",
    "body": "the parsedown recursively call block elements again and again so the following examples also have the same problem\r\n\r\n~~~\r\n[foobar]: http://foobar.com\r\n\r\n> [foobar]: http://foobar.com\r\n>\r\n> > [foobar2]: http://foobar.com foobar\r\n>\r\n\r\n----\r\n* [fubar]: http://fubar.com\r\n~~~\r\nhow about to check recursion depth ?\r\n\r\nand it might be helpful to restrict recursion depth to protect recursion attacks with nested markup"
  }
]
