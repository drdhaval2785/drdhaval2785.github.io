<!DOCTYPE html>
<html class='' lang='en'>
<head prefix='og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#'>
<meta http-equiv='content-type' content='text/html; charset=UTF-8'>
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge'>
<meta http-equiv='Content-Language' content='en'>
<title>erusev/parsedown/178</title>
<link href='github-c486157afcc5f58155a921bc675afb08733fbaa8dcf39ac2104d3.css' media='all' rel='stylesheet'>
<link href='github2-da2e842cc3f0aaf33b727d0ef034243c12ab008fd09b24868b97.css' media='all' rel='stylesheet'>
<meta http-equiv='x-pjax-version' content='4426702614c8182f33d1780ad1169662'>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shCore.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shAutoloader.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushAppleScript.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushAS3.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushBash.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushColdFusion.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushCpp.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushCSharp.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushCss.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushDelphi.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushDiff.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushErlang.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushGroovy.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushJava.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushJavaFX.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/syntaxhighlighter/scripts/shBrushJScript.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushPerl.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushPhp.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushPlain.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushPowerShell.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushPython.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushRuby.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushSass.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushScala.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushSql.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushVb.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shBrushXml.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shCore.js'></script>
	<script type='text/javascript' src='syntaxhighlighter/scripts/shLegacy.js'></script>
	<link type='text/css' rel='stylesheet' href='syntaxhighlighter/styles/shCoreDefault.css'/>
	<script type='text/javascript'>SyntaxHighlighter.all();</script>
</head>
<body class='logged_in  env-production windows vis-public'>
<h1 align='center'><a href='https://github.com/erusev/parsedown/issues/178' target='_blank'>Fix nested links</h1><hr/><div id="#issue-34508059" class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment current-user" data-body-version="3d69eb2502aec4738da37c0867d635da">
  <div class="timeline-comment-header ">
  <div class="timeline-comment-header-text">
    <strong>
      <a href="https://github.com/hkdobrev" class="author">hkdobrev</a>
    </strong>
    commented on 
    <a href="#issue-34508059" class="timestamp">
      <time>2014-05-28 21:22:04</time>
    </a>
  </div>
</div><div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <pre class="brush: md">[link to http://autolink.com/](http://normallink.com/)

---

[link to [another](http://nestedlink.com)](http://normallink.com)</code></pre>
<hr />
<pre class="brush: html">&lt;p&gt;&lt;a href="http://normallink.com/"&gt;link to &lt;a href="http://autolink.com/"&gt;http://autolink.com/&lt;/a&gt;&lt;/a&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href="http://normallink.com"&gt;link to &lt;a href="http://nestedlink.com"&gt;another&lt;/a&gt;&lt;/a&gt;&lt;/p&gt;</code></pre>
  </div>
  </div>
  </div>
  <br/>
<div id="#issuecomment-44779495" class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment current-user" data-body-version="3d69eb2502aec4738da37c0867d635da">
  <div class="timeline-comment-header ">
  <div class="timeline-comment-header-text">
    <strong>
      <a href="https://github.com/apfelbox" class="author">apfelbox</a>
    </strong>
    commented on 
    <a href="#issuecomment-44779495" class="timestamp">
      <time>2014-06-01 14:49:25</time>
    </a>
  </div>
</div><div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p>Nested links are not valid, at all. So the second example should just render the outer link, I assume?</p>
<blockquote>
<p><strong>Content model:</strong>
Transparent, but there must be no interactive content descendant.</p>
</blockquote>
<p><a href="http://www.w3.org/html/wg/drafts/html/master/text-level-semantics.html#the-a-element">http://www.w3.org/html/wg/drafts/html/master/text-level-semantics.html#the-a-element</a></p>
  </div>
  </div>
  </div>
  <br/>
<div id="#issuecomment-44820901" class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment current-user" data-body-version="3d69eb2502aec4738da37c0867d635da">
  <div class="timeline-comment-header ">
  <div class="timeline-comment-header-text">
    <strong>
      <a href="https://github.com/hkdobrev" class="author">hkdobrev</a>
    </strong>
    commented on 
    <a href="#issuecomment-44820901" class="timestamp">
      <time>2014-06-02 10:10:27</time>
    </a>
  </div>
</div><div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p>In my second example the input is wrong. So it could be forgiven that the parser is not handling erroneous input. However the first example is not rare and it is actually correct input. It is just the auto-linking from GFM which is not handling the nesting correctly.</p>
<p>I am 100% sure auto-linking should not happen inside a link.</p>
<p>However I've seen different behaviors for the second example. One way to keep the two links is:</p>
<pre class="brush: html">&lt;p&gt;&lt;a href="http://normallink.com"&gt;link to&lt;/a&gt; &lt;a href="http://nestedlink.com"&gt;another&lt;/a&gt;&lt;/p&gt;</code></pre>
  </div>
  </div>
  </div>
  <br/>
<div id="#issuecomment-51033381" class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment current-user" data-body-version="3d69eb2502aec4738da37c0867d635da">
  <div class="timeline-comment-header ">
  <div class="timeline-comment-header-text">
    <strong>
      <a href="https://github.com/npluis" class="author">npluis</a>
    </strong>
    commented on 
    <a href="#issuecomment-51033381" class="timestamp">
      <time>2014-08-04 09:08:36</time>
    </a>
  </div>
</div><div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p>I have kind of the same issue. If there is HTML in the text like this:
<code>&lt;a href="http://normallink.com/"&gt;http://normallink.com/&lt;/a&gt;</code>
It will make this:
<code>&lt;a href="http://normallink.com/"&gt;&lt;a href="http://normallink.com/"&gt;http://normallink.com/&lt;/a&gt;&lt;/a&gt;</code></p>
<p>Like hkdobrev wrote, there should be no auto-linking inside a link.</p>
  </div>
  </div>
  </div>
  <br/>
<div id="#issuecomment-64530519" class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment current-user" data-body-version="3d69eb2502aec4738da37c0867d635da">
  <div class="timeline-comment-header ">
  <div class="timeline-comment-header-text">
    <strong>
      <a href="https://github.com/ychongsaytc" class="author">ychongsaytc</a>
    </strong>
    commented on 
    <a href="#issuecomment-64530519" class="timestamp">
      <time>2014-11-26 08:38:37</time>
    </a>
  </div>
</div><div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><strong><a href="https://github.com/npluis" target="_blank">@npluis</a></strong> same issue</p>
  </div>
  </div>
  </div>
  <br/>
<div id="#issuecomment-68701675" class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment current-user" data-body-version="3d69eb2502aec4738da37c0867d635da">
  <div class="timeline-comment-header ">
  <div class="timeline-comment-header-text">
    <strong>
      <a href="https://github.com/bastianallgeier" class="author">bastianallgeier</a>
    </strong>
    commented on 
    <a href="#issuecomment-68701675" class="timestamp">
      <time>2015-01-05 12:28:03</time>
    </a>
  </div>
</div><div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p>Any news on this? Kirby users still run into this issue constantly. </p>
  </div>
  </div>
  </div>
  <br/>
<div id="#issuecomment-68701898" class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment current-user" data-body-version="3d69eb2502aec4738da37c0867d635da">
  <div class="timeline-comment-header ">
  <div class="timeline-comment-header-text">
    <strong>
      <a href="https://github.com/erusev" class="author">erusev</a>
    </strong>
    commented on 
    <a href="#issuecomment-68701898" class="timestamp">
      <time>2015-01-05 12:30:22</time>
    </a>
  </div>
</div><div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p>I'm adding an option (a setter) that would disable automatic linking of URLs. </p>
<p>Would this help? </p>
<p>The reason that the original Markdown Extra doesn't have this problem is because it doesn't support automatic linking of URLs.</p>
  </div>
  </div>
  </div>
  <br/>
<div id="#issuecomment-68705770" class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment current-user" data-body-version="3d69eb2502aec4738da37c0867d635da">
  <div class="timeline-comment-header ">
  <div class="timeline-comment-header-text">
    <strong>
      <a href="https://github.com/erusev" class="author">erusev</a>
    </strong>
    commented on 
    <a href="#issuecomment-68705770" class="timestamp">
      <time>2015-01-05 13:13:55</time>
    </a>
  </div>
</div><div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p>Perhaps for Parsedown Extra it should be disabled by default.</p>
  </div>
  </div>
  </div>
  <br/>
<div id="#issuecomment-69732839" class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment current-user" data-body-version="3d69eb2502aec4738da37c0867d635da">
  <div class="timeline-comment-header ">
  <div class="timeline-comment-header-text">
    <strong>
      <a href="https://github.com/erusev" class="author">erusev</a>
    </strong>
    commented on 
    <a href="#issuecomment-69732839" class="timestamp">
      <time>2015-01-13 11:46:15</time>
    </a>
  </div>
</div><div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><strong><a href="https://github.com/bastianallgeier" target="_blank">@bastianallgeier</a></strong> </p>
<p>The latest release has a <code>UrlsLinked</code> option. Setting it to <code>false</code> would disable automatic linking of URLs and prevent the issue.</p>
<p>Alternatively, you could encode the <code>:</code> in URLs to make them unrecognisable for the parser (e.g. <code>http&amp;#58;//parsedown.org</code>).</p>
<p>We could change the parser to parse the inline html, determine the name of the tag and based on that disable automatic linking, but this would mean introducing a ridiculous amount of complexity. I don't know if it'd be worth it.</p>
  </div>
  </div>
  </div>
  <br/>
<div id="#issuecomment-69920187" class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment current-user" data-body-version="3d69eb2502aec4738da37c0867d635da">
  <div class="timeline-comment-header ">
  <div class="timeline-comment-header-text">
    <strong>
      <a href="https://github.com/bastianallgeier" class="author">bastianallgeier</a>
    </strong>
    commented on 
    <a href="#issuecomment-69920187" class="timestamp">
      <time>2015-01-14 14:07:33</time>
    </a>
  </div>
</div><div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><strong><a href="https://github.com/erusev" target="_blank">@erusev</a></strong> that's perfect! Thanks for the great update!</p>
  </div>
  </div>
  </div>
  <br/>
<div id="#issuecomment-69933654" class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment current-user" data-body-version="3d69eb2502aec4738da37c0867d635da">
  <div class="timeline-comment-header ">
  <div class="timeline-comment-header-text">
    <strong>
      <a href="https://github.com/erusev" class="author">erusev</a>
    </strong>
    commented on 
    <a href="#issuecomment-69933654" class="timestamp">
      <time>2015-01-14 15:33:40</time>
    </a>
  </div>
</div><div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p>I'm glad to hear that. I'm closing the issue now.</p>
  </div>
  </div>
  </div>
  <br/>
</body></html>