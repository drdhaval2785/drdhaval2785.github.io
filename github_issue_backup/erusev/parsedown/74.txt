{
  "url": "https://api.github.com/repos/erusev/parsedown/issues/74",
  "labels_url": "https://api.github.com/repos/erusev/parsedown/issues/74/labels{/name}",
  "comments_url": "https://api.github.com/repos/erusev/parsedown/issues/74/comments",
  "events_url": "https://api.github.com/repos/erusev/parsedown/issues/74/events",
  "html_url": "https://github.com/erusev/parsedown/pull/74",
  "id": 26535390,
  "number": 74,
  "title": "better approach to extending markdown",
  "user": {
    "login": "cebe",
    "id": 189796,
    "avatar_url": "https://avatars.githubusercontent.com/u/189796?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cebe",
    "html_url": "https://github.com/cebe",
    "followers_url": "https://api.github.com/users/cebe/followers",
    "following_url": "https://api.github.com/users/cebe/following{/other_user}",
    "gists_url": "https://api.github.com/users/cebe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cebe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cebe/subscriptions",
    "organizations_url": "https://api.github.com/users/cebe/orgs",
    "repos_url": "https://api.github.com/users/cebe/repos",
    "events_url": "https://api.github.com/users/cebe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cebe/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "url": "https://api.github.com/repos/erusev/parsedown/labels/suggestion",
      "name": "suggestion",
      "color": "bfd4f2"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "milestone": null,
  "comments": 28,
  "created_at": "2014-01-29T17:01:18Z",
  "updated_at": "2014-04-17T19:24:47Z",
  "closed_at": "2014-04-17T19:24:47Z",
  "pull_request": {
    "url": "https://api.github.com/repos/erusev/parsedown/pulls/74",
    "html_url": "https://github.com/erusev/parsedown/pull/74",
    "diff_url": "https://github.com/erusev/parsedown/pull/74.diff",
    "patch_url": "https://github.com/erusev/parsedown/pull/74.patch"
  },
  "body": "this approach is totally based on callbacks and more consistent.\r\n\r\nobsoletes #70 and #73",
  "closed_by": {
    "login": "cebe",
    "id": 189796,
    "avatar_url": "https://avatars.githubusercontent.com/u/189796?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cebe",
    "html_url": "https://github.com/cebe",
    "followers_url": "https://api.github.com/users/cebe/followers",
    "following_url": "https://api.github.com/users/cebe/following{/other_user}",
    "gists_url": "https://api.github.com/users/cebe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cebe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cebe/subscriptions",
    "organizations_url": "https://api.github.com/users/cebe/orgs",
    "repos_url": "https://api.github.com/users/cebe/repos",
    "events_url": "https://api.github.com/users/cebe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cebe/received_events",
    "type": "User",
    "site_admin": false
  }
}
BODY STARTS FROM HERE
[
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33606589",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-33606589",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 33606589,
    "user": {
      "login": "cebe",
      "id": 189796,
      "avatar_url": "https://avatars.githubusercontent.com/u/189796?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cebe",
      "html_url": "https://github.com/cebe",
      "followers_url": "https://api.github.com/users/cebe/followers",
      "following_url": "https://api.github.com/users/cebe/following{/other_user}",
      "gists_url": "https://api.github.com/users/cebe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cebe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cebe/subscriptions",
      "organizations_url": "https://api.github.com/users/cebe/orgs",
      "repos_url": "https://api.github.com/users/cebe/repos",
      "events_url": "https://api.github.com/users/cebe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cebe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-29T17:16:57Z",
    "updated_at": "2014-01-29T17:16:57Z",
    "body": "Usage example for code highlighting:\r\n```php\r\n$handler = function(&$block, &$markup)\r\n{\r\n\tif (strncmp($block['text'], '<?php', 5) === 0) {\r\n\t\t$text = highlight_string($block['text'], true);\r\n\t} else {\r\n\t\t$text = highlight_string(\"<?php\\n\".$block['text'], true);\r\n\t}\r\n\r\n        $markup .= '<pre><code';\r\n\r\n        if (isset($block['language']))\r\n        {\r\n\t        if ($block['language'] !== 'php') {\r\n\t\t        return false;\r\n\t        }\r\n            $markup .= ' class=\"language-'.$block['language'].'\"';\r\n        }\r\n\r\n\t$markup .= '>'.$text.'</code></pre>'.\"\\n\";\r\n\treturn true;\r\n}\r\n\r\n$p  = Parsedown::instance();\r\n$p->register_block_hander('code', $handler);\r\n$p->register_block_hander('fenced', $handler);\r\n$p->parse(...);\r\n```"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33607213",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-33607213",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 33607213,
    "user": {
      "login": "scottchiefbaker",
      "id": 3429760,
      "avatar_url": "https://avatars.githubusercontent.com/u/3429760?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scottchiefbaker",
      "html_url": "https://github.com/scottchiefbaker",
      "followers_url": "https://api.github.com/users/scottchiefbaker/followers",
      "following_url": "https://api.github.com/users/scottchiefbaker/following{/other_user}",
      "gists_url": "https://api.github.com/users/scottchiefbaker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scottchiefbaker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scottchiefbaker/subscriptions",
      "organizations_url": "https://api.github.com/users/scottchiefbaker/orgs",
      "repos_url": "https://api.github.com/users/scottchiefbaker/repos",
      "events_url": "https://api.github.com/users/scottchiefbaker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scottchiefbaker/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-29T17:22:25Z",
    "updated_at": "2014-01-29T17:22:25Z",
    "body": "This would be to override the internal handlers for certain types of blocks?"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33609261",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-33609261",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 33609261,
    "user": {
      "login": "cebe",
      "id": 189796,
      "avatar_url": "https://avatars.githubusercontent.com/u/189796?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cebe",
      "html_url": "https://github.com/cebe",
      "followers_url": "https://api.github.com/users/cebe/followers",
      "following_url": "https://api.github.com/users/cebe/following{/other_user}",
      "gists_url": "https://api.github.com/users/cebe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cebe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cebe/subscriptions",
      "organizations_url": "https://api.github.com/users/cebe/orgs",
      "repos_url": "https://api.github.com/users/cebe/repos",
      "events_url": "https://api.github.com/users/cebe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cebe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-29T17:41:04Z",
    "updated_at": "2014-01-29T17:41:04Z",
    "body": "if you return true you will overide it completely i.e. only your implementation will handle it. if function returns nothing or false you can manipulate the block but let Parsedown do the rendering."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33611131",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-33611131",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 33611131,
    "user": {
      "login": "scottchiefbaker",
      "id": 3429760,
      "avatar_url": "https://avatars.githubusercontent.com/u/3429760?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scottchiefbaker",
      "html_url": "https://github.com/scottchiefbaker",
      "followers_url": "https://api.github.com/users/scottchiefbaker/followers",
      "following_url": "https://api.github.com/users/scottchiefbaker/following{/other_user}",
      "gists_url": "https://api.github.com/users/scottchiefbaker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scottchiefbaker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scottchiefbaker/subscriptions",
      "organizations_url": "https://api.github.com/users/scottchiefbaker/orgs",
      "repos_url": "https://api.github.com/users/scottchiefbaker/repos",
      "events_url": "https://api.github.com/users/scottchiefbaker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scottchiefbaker/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-29T17:58:20Z",
    "updated_at": "2014-01-29T17:58:20Z",
    "body": "Perfect... I like this implementation. There is going to be some serious documentation/examples that will need to be written to support this. Are you also able to do that?"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33611233",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-33611233",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 33611233,
    "user": {
      "login": "cebe",
      "id": 189796,
      "avatar_url": "https://avatars.githubusercontent.com/u/189796?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cebe",
      "html_url": "https://github.com/cebe",
      "followers_url": "https://api.github.com/users/cebe/followers",
      "following_url": "https://api.github.com/users/cebe/following{/other_user}",
      "gists_url": "https://api.github.com/users/cebe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cebe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cebe/subscriptions",
      "organizations_url": "https://api.github.com/users/cebe/orgs",
      "repos_url": "https://api.github.com/users/cebe/repos",
      "events_url": "https://api.github.com/users/cebe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cebe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-29T17:59:17Z",
    "updated_at": "2014-01-29T17:59:53Z",
    "body": "Sure, just wanted to make sure it is going to get accepted before writing docs."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33611769",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-33611769",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 33611769,
    "user": {
      "login": "scottchiefbaker",
      "id": 3429760,
      "avatar_url": "https://avatars.githubusercontent.com/u/3429760?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scottchiefbaker",
      "html_url": "https://github.com/scottchiefbaker",
      "followers_url": "https://api.github.com/users/scottchiefbaker/followers",
      "following_url": "https://api.github.com/users/scottchiefbaker/following{/other_user}",
      "gists_url": "https://api.github.com/users/scottchiefbaker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scottchiefbaker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scottchiefbaker/subscriptions",
      "organizations_url": "https://api.github.com/users/scottchiefbaker/orgs",
      "repos_url": "https://api.github.com/users/scottchiefbaker/repos",
      "events_url": "https://api.github.com/users/scottchiefbaker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scottchiefbaker/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-29T18:04:10Z",
    "updated_at": "2014-01-29T18:04:10Z",
    "body": "It's not my project, but I fully support this. I imagine @erusev's main concern would be performance for instances where the user is NOT doing any overrides. We'd want to make very sure the impact is low."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33612531",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-33612531",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 33612531,
    "user": {
      "login": "cebe",
      "id": 189796,
      "avatar_url": "https://avatars.githubusercontent.com/u/189796?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cebe",
      "html_url": "https://github.com/cebe",
      "followers_url": "https://api.github.com/users/cebe/followers",
      "following_url": "https://api.github.com/users/cebe/following{/other_user}",
      "gists_url": "https://api.github.com/users/cebe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cebe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cebe/subscriptions",
      "organizations_url": "https://api.github.com/users/cebe/orgs",
      "repos_url": "https://api.github.com/users/cebe/repos",
      "events_url": "https://api.github.com/users/cebe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cebe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-29T18:11:38Z",
    "updated_at": "2014-01-29T18:11:38Z",
    "body": "the effect on span parsing is nearly 0 as I only added isset() check in default part of switch.\r\nIn block parsing there one isset() call more per block which should also not do too much as it is one of the fastest things you can do in php.\r\nthe only thing that may have any impact is ksort() that is added to span parsing and comes ones per span element that occurs. Still nothing I would be worried about.\r\nImo it is worth compared to the flexibility it brings."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33613339",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-33613339",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 33613339,
    "user": {
      "login": "scottchiefbaker",
      "id": 3429760,
      "avatar_url": "https://avatars.githubusercontent.com/u/3429760?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scottchiefbaker",
      "html_url": "https://github.com/scottchiefbaker",
      "followers_url": "https://api.github.com/users/scottchiefbaker/followers",
      "following_url": "https://api.github.com/users/scottchiefbaker/following{/other_user}",
      "gists_url": "https://api.github.com/users/scottchiefbaker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scottchiefbaker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scottchiefbaker/subscriptions",
      "organizations_url": "https://api.github.com/users/scottchiefbaker/orgs",
      "repos_url": "https://api.github.com/users/scottchiefbaker/repos",
      "events_url": "https://api.github.com/users/scottchiefbaker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scottchiefbaker/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-29T18:19:52Z",
    "updated_at": "2014-01-29T18:19:52Z",
    "body": "Some benchmarks before/after on big blocks of Markdown would be pretty simple to do."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33613851",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-33613851",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 33613851,
    "user": {
      "login": "scottchiefbaker",
      "id": 3429760,
      "avatar_url": "https://avatars.githubusercontent.com/u/3429760?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scottchiefbaker",
      "html_url": "https://github.com/scottchiefbaker",
      "followers_url": "https://api.github.com/users/scottchiefbaker/followers",
      "following_url": "https://api.github.com/users/scottchiefbaker/following{/other_user}",
      "gists_url": "https://api.github.com/users/scottchiefbaker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scottchiefbaker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scottchiefbaker/subscriptions",
      "organizations_url": "https://api.github.com/users/scottchiefbaker/orgs",
      "repos_url": "https://api.github.com/users/scottchiefbaker/repos",
      "events_url": "https://api.github.com/users/scottchiefbaker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scottchiefbaker/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-29T18:24:47Z",
    "updated_at": "2014-01-29T18:50:17Z",
    "body": "If you can implement/document this without a major impact to the speed of the code (one of the major focuses of Parsedown) I'd fully support this. It seems like a great feature."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33629744",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-33629744",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 33629744,
    "user": {
      "login": "hkdobrev",
      "id": 506129,
      "avatar_url": "https://avatars.githubusercontent.com/u/506129?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hkdobrev",
      "html_url": "https://github.com/hkdobrev",
      "followers_url": "https://api.github.com/users/hkdobrev/followers",
      "following_url": "https://api.github.com/users/hkdobrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/hkdobrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hkdobrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hkdobrev/subscriptions",
      "organizations_url": "https://api.github.com/users/hkdobrev/orgs",
      "repos_url": "https://api.github.com/users/hkdobrev/repos",
      "events_url": "https://api.github.com/users/hkdobrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hkdobrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-29T20:56:37Z",
    "updated_at": "2014-01-29T20:59:02Z",
    "body": "@cebe These handlers should really just return HTML. Every function is a better function if it relies only on its arguments and return a value based on these arguments. The so-called \"pure\" functions.\r\n\r\nI don't see why the `$block` and `$markup` should be passed by reference.\r\n\r\nHere is an example:\r\n``` php\r\n$handler = function($block)\r\n{\r\n    if (strncmp($block['text'], '<?php', 5) === 0) {\r\n        $text = highlight_string($block['text'], true);\r\n    } else {\r\n        $text = highlight_string(\"<?php\\n\".$block['text'], true);\r\n    }\r\n\r\n    $markup = '<pre><code';\r\n\r\n    if (isset($block['language']))\r\n    {\r\n        if ($block['language'] !== 'php') {\r\n            return null;\r\n        }\r\n        $markup .= ' class=\"language-'.$block['language'].'\"';\r\n    }\r\n\r\n    $markup .= '>'.$text.'</code></pre>'.\"\\n\";\r\n    return $markup;\r\n}\r\n\r\n$p  = Parsedown::instance();\r\n$p->register_block_hander('code', $handler);\r\n$p->register_block_hander('fenced', $handler);\r\n$p->parse(...);\r\n```\r\n\r\nWhat you gain with your current implementation is the ability to update not only the markup, but the `$block` as well. Which would be a very rare case IMHO.\r\n\r\n---\r\n\r\nYou could write some tests about this.\r\n\r\n---\r\n\r\nYou could squash your commits into one."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33879040",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-33879040",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 33879040,
    "user": {
      "login": "cebe",
      "id": 189796,
      "avatar_url": "https://avatars.githubusercontent.com/u/189796?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cebe",
      "html_url": "https://github.com/cebe",
      "followers_url": "https://api.github.com/users/cebe/followers",
      "following_url": "https://api.github.com/users/cebe/following{/other_user}",
      "gists_url": "https://api.github.com/users/cebe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cebe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cebe/subscriptions",
      "organizations_url": "https://api.github.com/users/cebe/orgs",
      "repos_url": "https://api.github.com/users/cebe/repos",
      "events_url": "https://api.github.com/users/cebe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cebe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-01T18:15:13Z",
    "updated_at": "2014-02-01T18:15:13Z",
    "body": "Thanks for your review and comments, will get back to them when I find the time for it."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33957090",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-33957090",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 33957090,
    "user": {
      "login": "cebe",
      "id": 189796,
      "avatar_url": "https://avatars.githubusercontent.com/u/189796?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cebe",
      "html_url": "https://github.com/cebe",
      "followers_url": "https://api.github.com/users/cebe/followers",
      "following_url": "https://api.github.com/users/cebe/following{/other_user}",
      "gists_url": "https://api.github.com/users/cebe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cebe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cebe/subscriptions",
      "organizations_url": "https://api.github.com/users/cebe/orgs",
      "repos_url": "https://api.github.com/users/cebe/repos",
      "events_url": "https://api.github.com/users/cebe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cebe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-03T14:11:54Z",
    "updated_at": "2014-02-03T14:11:54Z",
    "body": "> Some benchmarks before/after on big blocks of Markdown would be pretty simple to do.\r\n\r\nCreated a benchmark:\r\n```php\r\n<?php\r\n\r\nrequire('Parsedown.php');\r\n\r\n$markdown = file_get_contents('http://daringfireball.net/projects/markdown/syntax.text');\r\n\r\n$m = [];\r\n$t = [];\r\n\r\nfor ($n = 0; $n < 1000; $n++) {\r\n\t$oldmem = memory_get_usage();\r\n\t$begin = microtime(true);\r\n\r\n\t// ---\r\n\r\n\t$pd = new Parsedown();\r\n\t$pd->parse($markdown);\r\n\r\n\t// ---\r\n\r\n\t$mem = memory_get_usage();\r\n\t$t[$n] = microtime(true) - $begin;\r\n\t$m[$n] = $mem - $oldmem;\r\n\tunset($pd);\r\n}\r\n\r\n// discard the first iteration\r\narray_shift($m);\r\narray_shift($t);\r\n\r\necho \"memory usage: \\n\";\r\necho \" - min: \". (min($m)/1024).\" kb\\n\";\r\necho \" - avg: \". (array_sum($m)/count($m)/1024).\" kb\\n\";\r\necho \" - max: \". (($max=max($m))/1024).\" kb\\n\";\r\nforeach($m as $k => $v) {\r\n\tif ($v == $max) {\r\n\t\techo \" - max at $k\\n\";\r\n\t}\r\n}\r\necho \"\\n\";\r\n\r\necho \"time: \\n\";\r\necho \" - min: \". (min($t)).\" s\\n\";\r\necho \" - avg: \". (array_sum($t)/count($t)).\" s\\n\";\r\necho \" - max: \". ($max=max($t)).\" s\\n\";\r\nforeach($t as $k => $v) {\r\n\tif ($v > $max - 0.00001) {\r\n\t\techo \" - max at $k\\n\";\r\n\t}\r\n}\r\necho \"\\n\";\r\n```\r\n\r\nRan it 3 times on current [master](https://github.com/erusev/parsedown/tree/7193e634b277f389a38dd525363e5804e45b2c7f):\r\n```\r\n# php benchmark.php \r\nmemory usage: \r\n - min: 4.8359375 kb\r\n - avg: 4.8752971721722 kb\r\n - max: 5.1328125 kb\r\n - max at 569\r\n\r\ntime: \r\n - min: 0.0085000991821289 s\r\n - avg: 0.0086580107997249 s\r\n - max: 0.0097930431365967 s\r\n - max at 458\r\n\r\n# php benchmark.php \r\nmemory usage: \r\n - min: 4.8359375 kb\r\n - avg: 4.8752971721722 kb\r\n - max: 5.1328125 kb\r\n - max at 569\r\n\r\ntime: \r\n - min: 0.0084569454193115 s\r\n - avg: 0.0086186533575659 s\r\n - max: 0.010159015655518 s\r\n - max at 461\r\n\r\n# php benchmark.php \r\nphp benchmark.php \r\nmemory usage: \r\n - min: 4.8359375 kb\r\n - avg: 4.8752971721722 kb\r\n - max: 5.1328125 kb\r\n - max at 569\r\n\r\ntime: \r\n - min: 0.0082619190216064 s\r\n - avg: 0.0084668878797774 s\r\n - max: 0.012995004653931 s\r\n - max at 825\r\n - max at 826\r\n```\r\n\r\nRan it 3 times on this branch:\r\n```\r\n# php benchmark.php \r\nmemory usage: \r\n - min: 4.859375 kb\r\n - avg: 4.8985626251251 kb\r\n - max: 5.140625 kb\r\n - max at 519\r\n\r\ntime: \r\n - min: 0.0085580348968506 s\r\n - avg: 0.0088489790697833 s\r\n - max: 0.013104915618896 s\r\n - max at 340\r\n\r\n# php benchmark.php \r\nmemory usage: \r\n - min: 4.859375 kb\r\n - avg: 4.8985626251251 kb\r\n - max: 5.140625 kb\r\n - max at 519\r\n\r\ntime: \r\n - min: 0.0089371204376221 s\r\n - avg: 0.0092274615237185 s\r\n - max: 0.01418399810791 s\r\n - max at 355\r\n\r\n# php benchmark.php \r\nmemory usage: \r\n - min: 4.859375 kb\r\n - avg: 4.8985626251251 kb\r\n - max: 5.140625 kb\r\n - max at 519\r\n\r\ntime: \r\n - min: 0.0089361667633057 s\r\n - avg: 0.0091655559845276 s\r\n - max: 0.010545015335083 s\r\n - max at 961\r\n```"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33957209",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-33957209",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 33957209,
    "user": {
      "login": "hkdobrev",
      "id": 506129,
      "avatar_url": "https://avatars.githubusercontent.com/u/506129?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hkdobrev",
      "html_url": "https://github.com/hkdobrev",
      "followers_url": "https://api.github.com/users/hkdobrev/followers",
      "following_url": "https://api.github.com/users/hkdobrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/hkdobrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hkdobrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hkdobrev/subscriptions",
      "organizations_url": "https://api.github.com/users/hkdobrev/orgs",
      "repos_url": "https://api.github.com/users/hkdobrev/repos",
      "events_url": "https://api.github.com/users/hkdobrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hkdobrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-03T14:13:28Z",
    "updated_at": "2014-02-03T14:13:28Z",
    "body": "@cebe BTW I would really love to have benchmarks for Parsedown. Do you think creating a separate issue for that and discussing it there would make sense? Thanks!\r\n\r\ncc @erusev "
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33959915",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-33959915",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 33959915,
    "user": {
      "login": "cebe",
      "id": 189796,
      "avatar_url": "https://avatars.githubusercontent.com/u/189796?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cebe",
      "html_url": "https://github.com/cebe",
      "followers_url": "https://api.github.com/users/cebe/followers",
      "following_url": "https://api.github.com/users/cebe/following{/other_user}",
      "gists_url": "https://api.github.com/users/cebe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cebe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cebe/subscriptions",
      "organizations_url": "https://api.github.com/users/cebe/orgs",
      "repos_url": "https://api.github.com/users/cebe/repos",
      "events_url": "https://api.github.com/users/cebe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cebe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-03T14:42:31Z",
    "updated_at": "2014-02-03T14:43:16Z",
    "body": "> @cebe These handlers should really just return HTML. Every function is a better function if it relies only on its arguments and return a value based on these arguments. The so-called \"pure\" functions.\r\n> \r\n> I don't see why the $block and $markup should be passed by reference.\r\n\r\nIn general you are right. A good function does not take parameters by reference and modifies them when it could just return the modified result.\r\nBut as these functions here are hooks into a parser they should be designed like it.\r\nThey get a text to parse and the markup to append to but also have to ensure the text is shortened by the part they parsed. For the block it might work to only return the HTML markup but this is not possible for the inline callback. I'd like to keep both handlers consistent in how they work.\r\nAnother argument for giving by reference is that the text would be duplicated in memory in each call. when working with large files this will increase memory usage significantly.\r\nImo the signature of the functions fit good for the usecase in a parser.\r\n\r\n> What you gain with your current implementation is the ability to update not only the markup, but the $block as well. Which would be a very rare case IMHO.\r\n\r\nIt is not possible to call the rendering of inline markup from within the handler so you might want to modify the block and let parsedown render it finally. This can be useful for complex blocks like lists or tables where you would need to duplicate the complete rendering logic when you only want to adjust minimal parts of it.\r\n\r\n> You could squash your commits into one.\r\n\r\nI could do this but I think there are good reasons not to do it. For example the introduction of the ksort() method will allow you to see the reason directly when doing a git blame. I can rebase the commits and squash those which could fit well into one when we agree that implementation is final.\r\n\r\n> You could write some tests about this.\r\n\r\nwill do when we agree on this to be merged. there is not much to test in this except that handlers are called in the right place so I am going to do it when code is finalized.\r\n\r\n> I would really love to have benchmarks for Parsedown. Do you think creating a separate issue for that and discussing it there would make sense? Thanks!\r\n\r\nyeah, better open a new issue for this, it would mess up the discussion here."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/33960219",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-33960219",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 33960219,
    "user": {
      "login": "cebe",
      "id": 189796,
      "avatar_url": "https://avatars.githubusercontent.com/u/189796?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cebe",
      "html_url": "https://github.com/cebe",
      "followers_url": "https://api.github.com/users/cebe/followers",
      "following_url": "https://api.github.com/users/cebe/following{/other_user}",
      "gists_url": "https://api.github.com/users/cebe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cebe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cebe/subscriptions",
      "organizations_url": "https://api.github.com/users/cebe/orgs",
      "repos_url": "https://api.github.com/users/cebe/repos",
      "events_url": "https://api.github.com/users/cebe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cebe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-03T14:45:21Z",
    "updated_at": "2014-02-03T14:45:21Z",
    "body": "@erusev can I please have your opinion on this one? Feel free to share your doubts, if any, so we can discuss them."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/34012323",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-34012323",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 34012323,
    "user": {
      "login": "erusev",
      "id": 184170,
      "avatar_url": "https://avatars.githubusercontent.com/u/184170?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erusev",
      "html_url": "https://github.com/erusev",
      "followers_url": "https://api.github.com/users/erusev/followers",
      "following_url": "https://api.github.com/users/erusev/following{/other_user}",
      "gists_url": "https://api.github.com/users/erusev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erusev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erusev/subscriptions",
      "organizations_url": "https://api.github.com/users/erusev/orgs",
      "repos_url": "https://api.github.com/users/erusev/repos",
      "events_url": "https://api.github.com/users/erusev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erusev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-03T23:12:05Z",
    "updated_at": "2014-02-13T00:44:26Z",
    "body": "@cebe \r\n\r\nBefore I decide to go with an implementation that uses callbacks, I'd like to explore one that uses inheritance.\r\n\r\nI appreciate your contributions.\r\n\r\np.s. It is unlikely that I'd merge a pull request that introduces a feature or changes the API."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/34013212",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-34013212",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 34013212,
    "user": {
      "login": "scottchiefbaker",
      "id": 3429760,
      "avatar_url": "https://avatars.githubusercontent.com/u/3429760?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scottchiefbaker",
      "html_url": "https://github.com/scottchiefbaker",
      "followers_url": "https://api.github.com/users/scottchiefbaker/followers",
      "following_url": "https://api.github.com/users/scottchiefbaker/following{/other_user}",
      "gists_url": "https://api.github.com/users/scottchiefbaker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scottchiefbaker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scottchiefbaker/subscriptions",
      "organizations_url": "https://api.github.com/users/scottchiefbaker/orgs",
      "repos_url": "https://api.github.com/users/scottchiefbaker/repos",
      "events_url": "https://api.github.com/users/scottchiefbaker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scottchiefbaker/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-03T23:23:14Z",
    "updated_at": "2014-02-03T23:23:14Z",
    "body": "My vote is callbacks over inheritance. I think it would be more logical, and easier to maintain."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/34015144",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-34015144",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 34015144,
    "user": {
      "login": "hkdobrev",
      "id": 506129,
      "avatar_url": "https://avatars.githubusercontent.com/u/506129?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hkdobrev",
      "html_url": "https://github.com/hkdobrev",
      "followers_url": "https://api.github.com/users/hkdobrev/followers",
      "following_url": "https://api.github.com/users/hkdobrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/hkdobrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hkdobrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hkdobrev/subscriptions",
      "organizations_url": "https://api.github.com/users/hkdobrev/orgs",
      "repos_url": "https://api.github.com/users/hkdobrev/repos",
      "events_url": "https://api.github.com/users/hkdobrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hkdobrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-03T23:48:10Z",
    "updated_at": "2014-02-03T23:48:29Z",
    "body": "My vote would go to inheritance. Here is why:\r\n- Extensions to Parsedown are an ideal candidate for object-oriented polymorphism. Every child would do what the parent would do with a little more. Example child is `ParsedownExtra` (for Markdown Extra syntax).\r\n- In the long run inheritance would contribute to the better structure of the Parsedown core.\r\n- Methods declarations (both in Parsedown and extensions) could have PHPDoc hints and more. It is less likely people would write them for closures.\r\n- There would be literally zero performance hit. You would not even think the core Parsedown could be slowed down because of an extension if you don't use it.\r\n- Extensions could be Composer packages. You could then just alias `ParsedownExtra` as `Parsedown` using the PHP 5.3+ `use` feature. You would use only one line of PHP to define which extension is used.\r\n- You could use PHP 5.4+ Traits. You could extend the `Parsedown` class and `use` some traits about syntax-highlighting, ASCII art or whatever and all of them could be in separate repos."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/34018337",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-34018337",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 34018337,
    "user": {
      "login": "cebe",
      "id": 189796,
      "avatar_url": "https://avatars.githubusercontent.com/u/189796?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cebe",
      "html_url": "https://github.com/cebe",
      "followers_url": "https://api.github.com/users/cebe/followers",
      "following_url": "https://api.github.com/users/cebe/following{/other_user}",
      "gists_url": "https://api.github.com/users/cebe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cebe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cebe/subscriptions",
      "organizations_url": "https://api.github.com/users/cebe/orgs",
      "repos_url": "https://api.github.com/users/cebe/repos",
      "events_url": "https://api.github.com/users/cebe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cebe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-04T00:32:53Z",
    "updated_at": "2014-02-04T00:35:03Z",
    "body": "@erusev thanks for you answer. I am happy to propose an extension way that uses inheritance but I am not sure if it can be as fast as this one (as far as I understood you are concerned about speed :) ). It is also not as easy to implement as it would be with callbacks because the existing methods would need some re-arrangement.\r\n \r\n> However, I feel that I have to say that it is highly unlikely that I'd merge a pull request that introduces a feature or changes the API. I've updated the contributing guidelines to make this clear. I hope that you would understand.\r\n\r\nI'm not sure I understand. If there is a PR that implements a feature you would like to have (there is an issue for this: #18) and it adds some methods, you are free to propose different naming and arrangement if you think it should be implemented differently. This is an open source project so you can have other people do some work for you if you just let them. Not merging PRs because you just want to do it on your own does not make sense if we can come up with a better solution together.\r\nI am not saying that mine or your solution would be the better one but I am sure the one we think/create together would be better than one I or you have written on my own.\r\nYou have created a great tool. You should not refuse to allow making it a perfect one together."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/34018770",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-34018770",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 34018770,
    "user": {
      "login": "erusev",
      "id": 184170,
      "avatar_url": "https://avatars.githubusercontent.com/u/184170?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erusev",
      "html_url": "https://github.com/erusev",
      "followers_url": "https://api.github.com/users/erusev/followers",
      "following_url": "https://api.github.com/users/erusev/following{/other_user}",
      "gists_url": "https://api.github.com/users/erusev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erusev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erusev/subscriptions",
      "organizations_url": "https://api.github.com/users/erusev/orgs",
      "repos_url": "https://api.github.com/users/erusev/repos",
      "events_url": "https://api.github.com/users/erusev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erusev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-04T00:39:52Z",
    "updated_at": "2014-02-12T23:34:27Z",
    "body": "> I am not saying that mine or your solution would better but I am sure the one we think/create together would be better than one I or you have written on my own.\r\n\r\nI'd welcome any pull request that improves an existing feature."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/34018892",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-34018892",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 34018892,
    "user": {
      "login": "scottchiefbaker",
      "id": 3429760,
      "avatar_url": "https://avatars.githubusercontent.com/u/3429760?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scottchiefbaker",
      "html_url": "https://github.com/scottchiefbaker",
      "followers_url": "https://api.github.com/users/scottchiefbaker/followers",
      "following_url": "https://api.github.com/users/scottchiefbaker/following{/other_user}",
      "gists_url": "https://api.github.com/users/scottchiefbaker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scottchiefbaker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scottchiefbaker/subscriptions",
      "organizations_url": "https://api.github.com/users/scottchiefbaker/orgs",
      "repos_url": "https://api.github.com/users/scottchiefbaker/repos",
      "events_url": "https://api.github.com/users/scottchiefbaker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scottchiefbaker/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-04T00:42:11Z",
    "updated_at": "2014-02-04T00:42:11Z",
    "body": "> Not merging PRs because you just want to do it on your own does not make sense if we can come up with a better solution together.\r\n\r\n:+1: "
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/34019233",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-34019233",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 34019233,
    "user": {
      "login": "cebe",
      "id": 189796,
      "avatar_url": "https://avatars.githubusercontent.com/u/189796?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cebe",
      "html_url": "https://github.com/cebe",
      "followers_url": "https://api.github.com/users/cebe/followers",
      "following_url": "https://api.github.com/users/cebe/following{/other_user}",
      "gists_url": "https://api.github.com/users/cebe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cebe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cebe/subscriptions",
      "organizations_url": "https://api.github.com/users/cebe/orgs",
      "repos_url": "https://api.github.com/users/cebe/repos",
      "events_url": "https://api.github.com/users/cebe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cebe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-04T00:48:01Z",
    "updated_at": "2014-02-04T00:56:03Z",
    "body": "Btw: We are currently in the [process of choosing a markdown parser](https://github.com/yiisoft/yii2/issues/47#issuecomment-31922693) that will be bundled with the [Yii Framework](http://www.yiiframework.com/) 2.0 (I am part of the core dev team there). I am quite unhappy with most of the existing implementations and I found yours which is great considering [speed](http://kzykhys.com/blog/benchmarked-markdown-parsers-written-in-php/) and I also like the implementation approach.\r\nThe only thing that is missing here is extension support so I am happy to help you adding this feature.\r\n\r\nI could start maintaining a fork that adds it but I prefer working together with the original community and contribute directly instead of creating a competition. You have a healthy community here, you should use it."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/34019391",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-34019391",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 34019391,
    "user": {
      "login": "hkdobrev",
      "id": 506129,
      "avatar_url": "https://avatars.githubusercontent.com/u/506129?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hkdobrev",
      "html_url": "https://github.com/hkdobrev",
      "followers_url": "https://api.github.com/users/hkdobrev/followers",
      "following_url": "https://api.github.com/users/hkdobrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/hkdobrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hkdobrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hkdobrev/subscriptions",
      "organizations_url": "https://api.github.com/users/hkdobrev/orgs",
      "repos_url": "https://api.github.com/users/hkdobrev/repos",
      "events_url": "https://api.github.com/users/hkdobrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hkdobrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-04T00:50:30Z",
    "updated_at": "2014-02-04T00:50:30Z",
    "body": "+1 to all of what @cebe just said!"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/34019770",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-34019770",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 34019770,
    "user": {
      "login": "erusev",
      "id": 184170,
      "avatar_url": "https://avatars.githubusercontent.com/u/184170?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erusev",
      "html_url": "https://github.com/erusev",
      "followers_url": "https://api.github.com/users/erusev/followers",
      "following_url": "https://api.github.com/users/erusev/following{/other_user}",
      "gists_url": "https://api.github.com/users/erusev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erusev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erusev/subscriptions",
      "organizations_url": "https://api.github.com/users/erusev/orgs",
      "repos_url": "https://api.github.com/users/erusev/repos",
      "events_url": "https://api.github.com/users/erusev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erusev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-04T00:55:39Z",
    "updated_at": "2014-02-04T00:55:39Z",
    "body": "> The only thing that is missing here is extension support so I am happy to help you adding this feature.\r\n\r\nI'm working on it and I'm open to ideas."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/34019964",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-34019964",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 34019964,
    "user": {
      "login": "hkdobrev",
      "id": 506129,
      "avatar_url": "https://avatars.githubusercontent.com/u/506129?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hkdobrev",
      "html_url": "https://github.com/hkdobrev",
      "followers_url": "https://api.github.com/users/hkdobrev/followers",
      "following_url": "https://api.github.com/users/hkdobrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/hkdobrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hkdobrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hkdobrev/subscriptions",
      "organizations_url": "https://api.github.com/users/hkdobrev/orgs",
      "repos_url": "https://api.github.com/users/hkdobrev/repos",
      "events_url": "https://api.github.com/users/hkdobrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hkdobrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-04T00:58:46Z",
    "updated_at": "2014-02-04T00:58:46Z",
    "body": "@erusev If you use a branch for your ideas/experiments it would be much easier to suggest ideas.\n\n@cebe The benchmark of Ciconia's author is really cool. It really shows Parsedown is much faster even with GFM baked-in. Thank you for the link!"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/37573876",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-37573876",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 37573876,
    "user": {
      "login": "rr-",
      "id": 1045476,
      "avatar_url": "https://avatars.githubusercontent.com/u/1045476?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rr-",
      "html_url": "https://github.com/rr-",
      "followers_url": "https://api.github.com/users/rr-/followers",
      "following_url": "https://api.github.com/users/rr-/following{/other_user}",
      "gists_url": "https://api.github.com/users/rr-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rr-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rr-/subscriptions",
      "organizations_url": "https://api.github.com/users/rr-/orgs",
      "repos_url": "https://api.github.com/users/rr-/repos",
      "events_url": "https://api.github.com/users/rr-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rr-/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-03-13T19:06:02Z",
    "updated_at": "2014-03-13T19:25:01Z",
    "body": ":+1: for subclassing approach. I (ab)use it all the time with PHP-markdown, adding my own handlers and replacing existing ones. The current implementation of the project isn't very flexible in that regard, mainly due to usage of big `switch`es. Each of the `case` statement could be replaced to separate method. That alone would allow users to hack around quite a lot. I don't think calling handlers, as opposed to having them hard-coded into `switch`, would hit performance very much.\r\n\r\nEdit: I see it's partially done in better-extendability branch. Great! All that's left is a way for users to add custom block parsers and allow to customize span parsing (for example,  let the users configure their subclasses to parse `\\s*\\n` into `<br/>`, not just `[ ][ ]\\n`).\r\n\r\nI haven't dug into the implementation very deep, but I have this random idea to drop `switch`es altogether in favor of some user-controllable dictionary, that would map blocks/span markers to respective handlers. The more methods, the more control users have, and that's a good thing."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/40750967",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-40750967",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 40750967,
    "user": {
      "login": "hkdobrev",
      "id": 506129,
      "avatar_url": "https://avatars.githubusercontent.com/u/506129?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hkdobrev",
      "html_url": "https://github.com/hkdobrev",
      "followers_url": "https://api.github.com/users/hkdobrev/followers",
      "following_url": "https://api.github.com/users/hkdobrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/hkdobrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hkdobrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hkdobrev/subscriptions",
      "organizations_url": "https://api.github.com/users/hkdobrev/orgs",
      "repos_url": "https://api.github.com/users/hkdobrev/repos",
      "events_url": "https://api.github.com/users/hkdobrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hkdobrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-04-17T19:08:20Z",
    "updated_at": "2014-04-17T19:08:20Z",
    "body": "@erusev @cebe This should be implemented now with the many public and protected function introduced in Parsedown."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/40752641",
    "html_url": "https://github.com/erusev/parsedown/pull/74#issuecomment-40752641",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/74",
    "id": 40752641,
    "user": {
      "login": "cebe",
      "id": 189796,
      "avatar_url": "https://avatars.githubusercontent.com/u/189796?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cebe",
      "html_url": "https://github.com/cebe",
      "followers_url": "https://api.github.com/users/cebe/followers",
      "following_url": "https://api.github.com/users/cebe/following{/other_user}",
      "gists_url": "https://api.github.com/users/cebe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cebe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cebe/subscriptions",
      "organizations_url": "https://api.github.com/users/cebe/orgs",
      "repos_url": "https://api.github.com/users/cebe/repos",
      "events_url": "https://api.github.com/users/cebe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cebe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-04-17T19:24:47Z",
    "updated_at": "2014-04-17T19:24:47Z",
    "body": "yeah, closing this then."
  }
]
