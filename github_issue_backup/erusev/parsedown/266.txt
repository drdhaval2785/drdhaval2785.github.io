{
  "url": "https://api.github.com/repos/erusev/parsedown/issues/266",
  "labels_url": "https://api.github.com/repos/erusev/parsedown/issues/266/labels{/name}",
  "comments_url": "https://api.github.com/repos/erusev/parsedown/issues/266/comments",
  "events_url": "https://api.github.com/repos/erusev/parsedown/issues/266/events",
  "html_url": "https://github.com/erusev/parsedown/issues/266",
  "id": 54506693,
  "number": 266,
  "title": "Href attribute not being rendered correctly",
  "user": {
    "login": "jackmcdade",
    "id": 44739,
    "avatar_url": "https://avatars.githubusercontent.com/u/44739?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jackmcdade",
    "html_url": "https://github.com/jackmcdade",
    "followers_url": "https://api.github.com/users/jackmcdade/followers",
    "following_url": "https://api.github.com/users/jackmcdade/following{/other_user}",
    "gists_url": "https://api.github.com/users/jackmcdade/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jackmcdade/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jackmcdade/subscriptions",
    "organizations_url": "https://api.github.com/users/jackmcdade/orgs",
    "repos_url": "https://api.github.com/users/jackmcdade/repos",
    "events_url": "https://api.github.com/users/jackmcdade/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jackmcdade/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "url": "https://api.github.com/repos/erusev/parsedown/labels/issue",
      "name": "issue",
      "color": "f7c6c7"
    },
    {
      "url": "https://api.github.com/repos/erusev/parsedown/labels/on%20hold",
      "name": "on hold",
      "color": "fad8c7"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "milestone": null,
  "comments": 19,
  "created_at": "2015-01-15T21:28:22Z",
  "updated_at": "2015-02-05T18:18:49Z",
  "closed_at": null,
  "body": "When parsing HTML inside my Markdown string, I've been coming across some issues. Most noticeably any `href` attributes of those HTML bits.\r\n\r\n```\r\n<a z='/training/schema' href='/training/schema'>Schema</a>\r\n```\r\n\r\nIs rendered as \r\n\r\n```\r\n<a z=\"/training/schema\" href=\"%7B%7B%20url%20%7D%7D\">Schema</a>\r\n```",
  "closed_by": null
}
BODY STARTS FROM HERE
[
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/70167562",
    "html_url": "https://github.com/erusev/parsedown/issues/266#issuecomment-70167562",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/266",
    "id": 70167562,
    "user": {
      "login": "vladdu",
      "id": 9707,
      "avatar_url": "https://avatars.githubusercontent.com/u/9707?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vladdu",
      "html_url": "https://github.com/vladdu",
      "followers_url": "https://api.github.com/users/vladdu/followers",
      "following_url": "https://api.github.com/users/vladdu/following{/other_user}",
      "gists_url": "https://api.github.com/users/vladdu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vladdu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vladdu/subscriptions",
      "organizations_url": "https://api.github.com/users/vladdu/orgs",
      "repos_url": "https://api.github.com/users/vladdu/repos",
      "events_url": "https://api.github.com/users/vladdu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vladdu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-15T21:43:16Z",
    "updated_at": "2015-01-15T21:43:52Z",
    "body": "I think you mean that \r\n```<a z='{{url}}' href='{{url}}'>Schema</a>```\r\nis rendered as\r\n```<a z='{{url}}' href='%7B%7Burl%7D%7D'>Schema</a>```\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/70167636",
    "html_url": "https://github.com/erusev/parsedown/issues/266#issuecomment-70167636",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/266",
    "id": 70167636,
    "user": {
      "login": "erusev",
      "id": 184170,
      "avatar_url": "https://avatars.githubusercontent.com/u/184170?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erusev",
      "html_url": "https://github.com/erusev",
      "followers_url": "https://api.github.com/users/erusev/followers",
      "following_url": "https://api.github.com/users/erusev/following{/other_user}",
      "gists_url": "https://api.github.com/users/erusev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erusev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erusev/subscriptions",
      "organizations_url": "https://api.github.com/users/erusev/orgs",
      "repos_url": "https://api.github.com/users/erusev/repos",
      "events_url": "https://api.github.com/users/erusev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erusev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-15T21:43:44Z",
    "updated_at": "2015-01-15T21:43:44Z",
    "body": "I don't seem to be able to reproduce it. Do you reproduce it in [the demo](http://parsedown.org/demo)?"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/70168184",
    "html_url": "https://github.com/erusev/parsedown/issues/266#issuecomment-70168184",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/266",
    "id": 70168184,
    "user": {
      "login": "vladdu",
      "id": 9707,
      "avatar_url": "https://avatars.githubusercontent.com/u/9707?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vladdu",
      "html_url": "https://github.com/vladdu",
      "followers_url": "https://api.github.com/users/vladdu/followers",
      "following_url": "https://api.github.com/users/vladdu/following{/other_user}",
      "gists_url": "https://api.github.com/users/vladdu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vladdu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vladdu/subscriptions",
      "organizations_url": "https://api.github.com/users/vladdu/orgs",
      "repos_url": "https://api.github.com/users/vladdu/repos",
      "events_url": "https://api.github.com/users/vladdu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vladdu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-15T21:46:54Z",
    "updated_at": "2015-01-15T21:46:54Z",
    "body": "In the demo it looks ok. @jackmcdade should know more details about how he processes the input before feeding it to the parser."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/70171292",
    "html_url": "https://github.com/erusev/parsedown/issues/266#issuecomment-70171292",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/266",
    "id": 70171292,
    "user": {
      "login": "jackmcdade",
      "id": 44739,
      "avatar_url": "https://avatars.githubusercontent.com/u/44739?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jackmcdade",
      "html_url": "https://github.com/jackmcdade",
      "followers_url": "https://api.github.com/users/jackmcdade/followers",
      "following_url": "https://api.github.com/users/jackmcdade/following{/other_user}",
      "gists_url": "https://api.github.com/users/jackmcdade/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jackmcdade/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jackmcdade/subscriptions",
      "organizations_url": "https://api.github.com/users/jackmcdade/orgs",
      "repos_url": "https://api.github.com/users/jackmcdade/repos",
      "events_url": "https://api.github.com/users/jackmcdade/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jackmcdade/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-15T22:05:27Z",
    "updated_at": "2015-01-15T22:05:27Z",
    "body": "Ah i see what it is. We're parsing Markdown before our template language does variable replacement, so it's selectively encoding/stripping/altering the `{{ curly }}` braces of certain attributes."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/70171652",
    "html_url": "https://github.com/erusev/parsedown/issues/266#issuecomment-70171652",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/266",
    "id": 70171652,
    "user": {
      "login": "erusev",
      "id": 184170,
      "avatar_url": "https://avatars.githubusercontent.com/u/184170?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erusev",
      "html_url": "https://github.com/erusev",
      "followers_url": "https://api.github.com/users/erusev/followers",
      "following_url": "https://api.github.com/users/erusev/following{/other_user}",
      "gists_url": "https://api.github.com/users/erusev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erusev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erusev/subscriptions",
      "organizations_url": "https://api.github.com/users/erusev/orgs",
      "repos_url": "https://api.github.com/users/erusev/repos",
      "events_url": "https://api.github.com/users/erusev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erusev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-15T22:07:41Z",
    "updated_at": "2015-01-15T22:07:41Z",
    "body": "@jackmcdade \r\n\r\nDo you think that this is related to an issue with Parsedown?"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/70171794",
    "html_url": "https://github.com/erusev/parsedown/issues/266#issuecomment-70171794",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/266",
    "id": 70171794,
    "user": {
      "login": "jackmcdade",
      "id": 44739,
      "avatar_url": "https://avatars.githubusercontent.com/u/44739?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jackmcdade",
      "html_url": "https://github.com/jackmcdade",
      "followers_url": "https://api.github.com/users/jackmcdade/followers",
      "following_url": "https://api.github.com/users/jackmcdade/following{/other_user}",
      "gists_url": "https://api.github.com/users/jackmcdade/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jackmcdade/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jackmcdade/subscriptions",
      "organizations_url": "https://api.github.com/users/jackmcdade/orgs",
      "repos_url": "https://api.github.com/users/jackmcdade/repos",
      "events_url": "https://api.github.com/users/jackmcdade/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jackmcdade/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-15T22:08:33Z",
    "updated_at": "2015-01-15T22:08:33Z",
    "body": "Yeah definitely. We just upgraded Parsedown and the issue popped up. Rolling back fixes it. As does using other Markdown parsers."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/70171985",
    "html_url": "https://github.com/erusev/parsedown/issues/266#issuecomment-70171985",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/266",
    "id": 70171985,
    "user": {
      "login": "erusev",
      "id": 184170,
      "avatar_url": "https://avatars.githubusercontent.com/u/184170?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erusev",
      "html_url": "https://github.com/erusev",
      "followers_url": "https://api.github.com/users/erusev/followers",
      "following_url": "https://api.github.com/users/erusev/following{/other_user}",
      "gists_url": "https://api.github.com/users/erusev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erusev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erusev/subscriptions",
      "organizations_url": "https://api.github.com/users/erusev/orgs",
      "repos_url": "https://api.github.com/users/erusev/repos",
      "events_url": "https://api.github.com/users/erusev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erusev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-15T22:09:47Z",
    "updated_at": "2015-01-15T22:10:19Z",
    "body": "Could you help me reproduce it?"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/70172165",
    "html_url": "https://github.com/erusev/parsedown/issues/266#issuecomment-70172165",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/266",
    "id": 70172165,
    "user": {
      "login": "jackmcdade",
      "id": 44739,
      "avatar_url": "https://avatars.githubusercontent.com/u/44739?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jackmcdade",
      "html_url": "https://github.com/jackmcdade",
      "followers_url": "https://api.github.com/users/jackmcdade/followers",
      "following_url": "https://api.github.com/users/jackmcdade/following{/other_user}",
      "gists_url": "https://api.github.com/users/jackmcdade/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jackmcdade/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jackmcdade/subscriptions",
      "organizations_url": "https://api.github.com/users/jackmcdade/orgs",
      "repos_url": "https://api.github.com/users/jackmcdade/repos",
      "events_url": "https://api.github.com/users/jackmcdade/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jackmcdade/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-15T22:10:59Z",
    "updated_at": "2015-01-15T22:10:59Z",
    "body": "Sure thing, just drop this in the demo:\r\n\r\n```\r\n<a href=\"{{ url }}\">A URL!</a>\r\n```"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/70172353",
    "html_url": "https://github.com/erusev/parsedown/issues/266#issuecomment-70172353",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/266",
    "id": 70172353,
    "user": {
      "login": "erusev",
      "id": 184170,
      "avatar_url": "https://avatars.githubusercontent.com/u/184170?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erusev",
      "html_url": "https://github.com/erusev",
      "followers_url": "https://api.github.com/users/erusev/followers",
      "following_url": "https://api.github.com/users/erusev/following{/other_user}",
      "gists_url": "https://api.github.com/users/erusev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erusev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erusev/subscriptions",
      "organizations_url": "https://api.github.com/users/erusev/orgs",
      "repos_url": "https://api.github.com/users/erusev/repos",
      "events_url": "https://api.github.com/users/erusev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erusev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-15T22:12:13Z",
    "updated_at": "2015-01-15T22:12:13Z",
    "body": "I did that. Parsedown seems to produce identical output as Markdown PHP. Am I missing something?"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/70174267",
    "html_url": "https://github.com/erusev/parsedown/issues/266#issuecomment-70174267",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/266",
    "id": 70174267,
    "user": {
      "login": "jackmcdade",
      "id": 44739,
      "avatar_url": "https://avatars.githubusercontent.com/u/44739?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jackmcdade",
      "html_url": "https://github.com/jackmcdade",
      "followers_url": "https://api.github.com/users/jackmcdade/followers",
      "following_url": "https://api.github.com/users/jackmcdade/following{/other_user}",
      "gists_url": "https://api.github.com/users/jackmcdade/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jackmcdade/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jackmcdade/subscriptions",
      "organizations_url": "https://api.github.com/users/jackmcdade/orgs",
      "repos_url": "https://api.github.com/users/jackmcdade/repos",
      "events_url": "https://api.github.com/users/jackmcdade/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jackmcdade/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-15T22:25:20Z",
    "updated_at": "2015-01-15T22:25:20Z",
    "body": "I'm not _quite_ sure what to say except that in [Statamic](http://statamic.com) that parser doesn't break anything, and Parsedown does. I can set up a sandbox for you if that might help?"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/70174989",
    "html_url": "https://github.com/erusev/parsedown/issues/266#issuecomment-70174989",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/266",
    "id": 70174989,
    "user": {
      "login": "erusev",
      "id": 184170,
      "avatar_url": "https://avatars.githubusercontent.com/u/184170?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erusev",
      "html_url": "https://github.com/erusev",
      "followers_url": "https://api.github.com/users/erusev/followers",
      "following_url": "https://api.github.com/users/erusev/following{/other_user}",
      "gists_url": "https://api.github.com/users/erusev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erusev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erusev/subscriptions",
      "organizations_url": "https://api.github.com/users/erusev/orgs",
      "repos_url": "https://api.github.com/users/erusev/repos",
      "events_url": "https://api.github.com/users/erusev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erusev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-15T22:30:23Z",
    "updated_at": "2015-01-15T22:30:23Z",
    "body": "That might help, but before that, could you figure out which is the exact version that introduces the issue?"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/70175102",
    "html_url": "https://github.com/erusev/parsedown/issues/266#issuecomment-70175102",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/266",
    "id": 70175102,
    "user": {
      "login": "jackmcdade",
      "id": 44739,
      "avatar_url": "https://avatars.githubusercontent.com/u/44739?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jackmcdade",
      "html_url": "https://github.com/jackmcdade",
      "followers_url": "https://api.github.com/users/jackmcdade/followers",
      "following_url": "https://api.github.com/users/jackmcdade/following{/other_user}",
      "gists_url": "https://api.github.com/users/jackmcdade/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jackmcdade/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jackmcdade/subscriptions",
      "organizations_url": "https://api.github.com/users/jackmcdade/orgs",
      "repos_url": "https://api.github.com/users/jackmcdade/repos",
      "events_url": "https://api.github.com/users/jackmcdade/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jackmcdade/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-15T22:30:59Z",
    "updated_at": "2015-01-15T22:30:59Z",
    "body": "I’ll see what I can do.\r\n\r\n- Jack\r\n\r\nOn January 15, 2015 at 5:30:27 PM, Emanuil Rusev (notifications@github.com) wrote:\r\n\r\nThat might help, but before that, could you figure out which is the exact version that introduces the issue?\r\n\r\n—\r\nReply to this email directly or view it on GitHub."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/70379672",
    "html_url": "https://github.com/erusev/parsedown/issues/266#issuecomment-70379672",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/266",
    "id": 70379672,
    "user": {
      "login": "erusev",
      "id": 184170,
      "avatar_url": "https://avatars.githubusercontent.com/u/184170?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erusev",
      "html_url": "https://github.com/erusev",
      "followers_url": "https://api.github.com/users/erusev/followers",
      "following_url": "https://api.github.com/users/erusev/following{/other_user}",
      "gists_url": "https://api.github.com/users/erusev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erusev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erusev/subscriptions",
      "organizations_url": "https://api.github.com/users/erusev/orgs",
      "repos_url": "https://api.github.com/users/erusev/repos",
      "events_url": "https://api.github.com/users/erusev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erusev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-17T19:05:30Z",
    "updated_at": "2015-01-17T19:05:30Z",
    "body": "@jackmcdade \r\n\r\nDid you get a chance to look into it?"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/70576990",
    "html_url": "https://github.com/erusev/parsedown/issues/266#issuecomment-70576990",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/266",
    "id": 70576990,
    "user": {
      "login": "rhukster",
      "id": 1084697,
      "avatar_url": "https://avatars.githubusercontent.com/u/1084697?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rhukster",
      "html_url": "https://github.com/rhukster",
      "followers_url": "https://api.github.com/users/rhukster/followers",
      "following_url": "https://api.github.com/users/rhukster/following{/other_user}",
      "gists_url": "https://api.github.com/users/rhukster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rhukster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rhukster/subscriptions",
      "organizations_url": "https://api.github.com/users/rhukster/orgs",
      "repos_url": "https://api.github.com/users/rhukster/repos",
      "events_url": "https://api.github.com/users/rhukster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rhukster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-19T23:06:12Z",
    "updated_at": "2015-01-19T23:16:20Z",
    "body": "I'm not sure if this is the same issue, but I have recently noticed that there is a problem when you use curly brackets in a markdown link, it doesn't work. \r\n\r\nSome examples:\r\n\r\n```\r\n[Some Link]({{url}})\r\n```\r\n\r\nRenders out of Parsedown as:\r\n\r\n```\r\n<a href=\"{{url}}\">Some Link</a>\r\n```\r\n\r\nAs expected.  However, if you have any spaces between the parens, like:\r\n\r\n```\r\n[Some Link]({{ url }})\r\n```\r\n\r\nthe indentifyLink() fails on the regex: https://github.com/erusev/parsedown/blob/master/Parsedown.php#L1202\r\n\r\nand you basically get your markdown spat back at you unprocessed.  The problem with that appears to be the space before the opening parens in the first negated set.  If you remove that so the resulting regex is:\r\n\r\n```\r\n'/^[(]((?:[^(]|[(][^ )]+[)])+)(?:[ ]+(\"[^\"]+\"|\\'[^\\']+\\'))?[)]/'\r\n```\r\n\r\nThis now works.  However, this is a pretty complex regex and i'm not sure the implications of removing this space for other tags.  Perhaps @erusev has some insights as this was changed pretty heavily between 1.14 and current.\r\n\r\nBTW, I have no issue with curly brackets in HTML links themselves, Parsedown just ignores them and it works fine.  eg:\r\n\r\n```\r\n<a href=\"{{ site.foo }}\">A URL!</a>\r\n```\r\n\r\nDoesn't get any modified at all, works fine."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/70580629",
    "html_url": "https://github.com/erusev/parsedown/issues/266#issuecomment-70580629",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/266",
    "id": 70580629,
    "user": {
      "login": "erusev",
      "id": 184170,
      "avatar_url": "https://avatars.githubusercontent.com/u/184170?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erusev",
      "html_url": "https://github.com/erusev",
      "followers_url": "https://api.github.com/users/erusev/followers",
      "following_url": "https://api.github.com/users/erusev/following{/other_user}",
      "gists_url": "https://api.github.com/users/erusev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erusev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erusev/subscriptions",
      "organizations_url": "https://api.github.com/users/erusev/orgs",
      "repos_url": "https://api.github.com/users/erusev/repos",
      "events_url": "https://api.github.com/users/erusev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erusev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-19T23:41:48Z",
    "updated_at": "2015-01-19T23:41:48Z",
    "body": "> the indentifyLink() fails on the regex\r\n\r\nThis is expected. The regex expects a valid URL.\r\n\r\n> BTW, I have no issue with curly brackets in HTML links themselves, Parsedown just ignores them and it works fine.\r\n\r\nSame here. I'm unable to reproduce the issue. It'd be great if @jackmcdade could help us with that."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/70682420",
    "html_url": "https://github.com/erusev/parsedown/issues/266#issuecomment-70682420",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/266",
    "id": 70682420,
    "user": {
      "login": "rhukster",
      "id": 1084697,
      "avatar_url": "https://avatars.githubusercontent.com/u/1084697?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rhukster",
      "html_url": "https://github.com/rhukster",
      "followers_url": "https://api.github.com/users/rhukster/followers",
      "following_url": "https://api.github.com/users/rhukster/following{/other_user}",
      "gists_url": "https://api.github.com/users/rhukster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rhukster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rhukster/subscriptions",
      "organizations_url": "https://api.github.com/users/rhukster/orgs",
      "repos_url": "https://api.github.com/users/rhukster/repos",
      "events_url": "https://api.github.com/users/rhukster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rhukster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-20T16:23:37Z",
    "updated_at": "2015-01-20T16:23:37Z",
    "body": "FWIW, I got around this in Grav by using on overriden `inlineLink()` method, detecting Twig syntax in the URL, setting the link to a simple safe URL: `/`, processing normally, then setting the href back to the original Twig code:\r\n\r\n```\r\n    protected function inlineLink($excerpt)\r\n    {\r\n        // do some trickery to get around Parsedown requirement for valid URL if its Twig in there\r\n        if (preg_match('/\\!*\\[(?:.*)\\]\\(([{{|{%|{#].*[#}|%}|}}])\\)/', $excerpt['text'], $matches)) {\r\n            $excerpt['text'] = str_replace($matches[1], '/', $excerpt['text']);\r\n            $excerpt = parent::inlineLink($excerpt);\r\n            $excerpt['element']['attributes']['href'] = $matches[1];\r\n            $excerpt['extent'] = $excerpt['extent'] + strlen($matches[1]) - 1;\r\n        } else {\r\n            $excerpt = parent::inlineLink($excerpt);\r\n        }\r\n    return $excerpt;\r\n    }\r\n```"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/71242940",
    "html_url": "https://github.com/erusev/parsedown/issues/266#issuecomment-71242940",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/266",
    "id": 71242940,
    "user": {
      "login": "erusev",
      "id": 184170,
      "avatar_url": "https://avatars.githubusercontent.com/u/184170?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erusev",
      "html_url": "https://github.com/erusev",
      "followers_url": "https://api.github.com/users/erusev/followers",
      "following_url": "https://api.github.com/users/erusev/following{/other_user}",
      "gists_url": "https://api.github.com/users/erusev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erusev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erusev/subscriptions",
      "organizations_url": "https://api.github.com/users/erusev/orgs",
      "repos_url": "https://api.github.com/users/erusev/repos",
      "events_url": "https://api.github.com/users/erusev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erusev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-23T18:46:05Z",
    "updated_at": "2015-01-23T18:46:31Z",
    "body": "@jackmcdade \r\n\r\nIs this about Parsedown or Parsedown Extra?"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/72977160",
    "html_url": "https://github.com/erusev/parsedown/issues/266#issuecomment-72977160",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/266",
    "id": 72977160,
    "user": {
      "login": "jasonvarga",
      "id": 105211,
      "avatar_url": "https://avatars.githubusercontent.com/u/105211?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jasonvarga",
      "html_url": "https://github.com/jasonvarga",
      "followers_url": "https://api.github.com/users/jasonvarga/followers",
      "following_url": "https://api.github.com/users/jasonvarga/following{/other_user}",
      "gists_url": "https://api.github.com/users/jasonvarga/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jasonvarga/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jasonvarga/subscriptions",
      "organizations_url": "https://api.github.com/users/jasonvarga/orgs",
      "repos_url": "https://api.github.com/users/jasonvarga/repos",
      "events_url": "https://api.github.com/users/jasonvarga/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jasonvarga/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-05T01:23:15Z",
    "updated_at": "2015-02-05T01:23:29Z",
    "body": "I'm unable to reproduce it, but I can tell you Statamic is using Parsedown Extra."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/73097504",
    "html_url": "https://github.com/erusev/parsedown/issues/266#issuecomment-73097504",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/266",
    "id": 73097504,
    "user": {
      "login": "jasonvarga",
      "id": 105211,
      "avatar_url": "https://avatars.githubusercontent.com/u/105211?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jasonvarga",
      "html_url": "https://github.com/jasonvarga",
      "followers_url": "https://api.github.com/users/jasonvarga/followers",
      "following_url": "https://api.github.com/users/jasonvarga/following{/other_user}",
      "gists_url": "https://api.github.com/users/jasonvarga/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jasonvarga/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jasonvarga/subscriptions",
      "organizations_url": "https://api.github.com/users/jasonvarga/orgs",
      "repos_url": "https://api.github.com/users/jasonvarga/repos",
      "events_url": "https://api.github.com/users/jasonvarga/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jasonvarga/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-05T18:18:49Z",
    "updated_at": "2015-02-05T18:18:49Z",
    "body": "Okay, I can reproduce it. Even in the demo. Parsedown Extra only.\r\n\r\n```\r\n<li><a href=\"{{ url }}\" attr=\"{{ url }}\">Test</a></li>\r\nOutputs:\r\n<li><a href=\"%7B%7B%20url%20%7D%7D\" attr=\"{{ url }}\">Test</a></li>\r\n```\r\n\r\nBut, without the `<li>` wrapper:\r\n\r\n```\r\n<a href=\"{{ url }}\" attr=\"{{ url }}\">Test</a>\r\nOutputs:\r\n<p><a href=\"{{ url }}\" attr=\"{{ url }}\">Test</a></p>\r\n```\r\n\r\nHowever, I think it's correct that you are encoding those characters. Is there an option to disable it?"
  }
]
