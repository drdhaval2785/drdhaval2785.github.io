{
  "url": "https://api.github.com/repos/erusev/parsedown/issues/25",
  "labels_url": "https://api.github.com/repos/erusev/parsedown/issues/25/labels{/name}",
  "comments_url": "https://api.github.com/repos/erusev/parsedown/issues/25/comments",
  "events_url": "https://api.github.com/repos/erusev/parsedown/issues/25/events",
  "html_url": "https://github.com/erusev/parsedown/pull/25",
  "id": 22396862,
  "number": 25,
  "title": "Rewrite parse_block_elements() to remove goto",
  "user": {
    "login": "mitio",
    "id": 129307,
    "avatar_url": "https://avatars.githubusercontent.com/u/129307?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mitio",
    "html_url": "https://github.com/mitio",
    "followers_url": "https://api.github.com/users/mitio/followers",
    "following_url": "https://api.github.com/users/mitio/following{/other_user}",
    "gists_url": "https://api.github.com/users/mitio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mitio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mitio/subscriptions",
    "organizations_url": "https://api.github.com/users/mitio/orgs",
    "repos_url": "https://api.github.com/users/mitio/repos",
    "events_url": "https://api.github.com/users/mitio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mitio/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "milestone": null,
  "comments": 10,
  "created_at": "2013-11-10T00:36:35Z",
  "updated_at": "2013-11-18T21:18:10Z",
  "closed_at": "2013-11-18T21:13:30Z",
  "pull_request": {
    "url": "https://api.github.com/repos/erusev/parsedown/pulls/25",
    "html_url": "https://github.com/erusev/parsedown/pull/25",
    "diff_url": "https://github.com/erusev/parsedown/pull/25.diff",
    "patch_url": "https://github.com/erusev/parsedown/pull/25.patch"
  },
  "body": "The `goto` clause is the only thing which prevents this class to work on PHP 5.2.\r\n\r\nAlso, using goto is not considered a good coding practice and should be avoided since there are other control flow constructs which can replace the need for `goto`.\r\n\r\nIn the case of the `Paragraph` class, I just put the code which the `goto` skipped before in an `if` and inverted the condition.\r\n\r\nAll tests are passing.",
  "closed_by": {
    "login": "erusev",
    "id": 184170,
    "avatar_url": "https://avatars.githubusercontent.com/u/184170?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/erusev",
    "html_url": "https://github.com/erusev",
    "followers_url": "https://api.github.com/users/erusev/followers",
    "following_url": "https://api.github.com/users/erusev/following{/other_user}",
    "gists_url": "https://api.github.com/users/erusev/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/erusev/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/erusev/subscriptions",
    "organizations_url": "https://api.github.com/users/erusev/orgs",
    "repos_url": "https://api.github.com/users/erusev/repos",
    "events_url": "https://api.github.com/users/erusev/events{/privacy}",
    "received_events_url": "https://api.github.com/users/erusev/received_events",
    "type": "User",
    "site_admin": false
  }
}
BODY STARTS FROM HERE
[
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/28149560",
    "html_url": "https://github.com/erusev/parsedown/pull/25#issuecomment-28149560",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/25",
    "id": 28149560,
    "user": {
      "login": "hkdobrev",
      "id": 506129,
      "avatar_url": "https://avatars.githubusercontent.com/u/506129?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hkdobrev",
      "html_url": "https://github.com/hkdobrev",
      "followers_url": "https://api.github.com/users/hkdobrev/followers",
      "following_url": "https://api.github.com/users/hkdobrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/hkdobrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hkdobrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hkdobrev/subscriptions",
      "organizations_url": "https://api.github.com/users/hkdobrev/orgs",
      "repos_url": "https://api.github.com/users/hkdobrev/repos",
      "events_url": "https://api.github.com/users/hkdobrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hkdobrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-10T12:35:50Z",
    "updated_at": "2013-11-10T12:35:50Z",
    "body": "IMHO PHP 5.2 compatibility is the only strong argument for removing `goto`.\r\n\r\n[`goto` is not evil](http://adamjonrichardson.com/2012/02/06/long-live-the-goto-statement/). It is a common technique for algorithm implementations striving for performance. It is NOT a good practice to use it proactively in a maintainable application codebase.\r\n\r\nI think @erusev would have much more arguments for the `goto` statement.\r\n\r\nI think the Travis CI build should be configured to run the tests on PHP 5.2 as well. Composer requires PHP 5.3.2+ so Travis CI could use Git to download Parsedown on 5.2.x environment."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/28149659",
    "html_url": "https://github.com/erusev/parsedown/pull/25#issuecomment-28149659",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/25",
    "id": 28149659,
    "user": {
      "login": "hkdobrev",
      "id": 506129,
      "avatar_url": "https://avatars.githubusercontent.com/u/506129?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hkdobrev",
      "html_url": "https://github.com/hkdobrev",
      "followers_url": "https://api.github.com/users/hkdobrev/followers",
      "following_url": "https://api.github.com/users/hkdobrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/hkdobrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hkdobrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hkdobrev/subscriptions",
      "organizations_url": "https://api.github.com/users/hkdobrev/orgs",
      "repos_url": "https://api.github.com/users/hkdobrev/repos",
      "events_url": "https://api.github.com/users/hkdobrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hkdobrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-10T12:40:35Z",
    "updated_at": "2013-11-10T12:40:35Z",
    "body": "> I think the Travis CI build should be configured to run the tests on PHP 5.2 as well.\r\n\r\nhttps://github.com/erusev/parsedown/commit/df3db716981e632305b46e47510d81b5428b1068 already done that.\r\n\r\nHowever builds fail at the composer stage https://travis-ci.org/erusev/parsedown/jobs/13758053."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/28246022",
    "html_url": "https://github.com/erusev/parsedown/pull/25#issuecomment-28246022",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/25",
    "id": 28246022,
    "user": {
      "login": "erusev",
      "id": 184170,
      "avatar_url": "https://avatars.githubusercontent.com/u/184170?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erusev",
      "html_url": "https://github.com/erusev",
      "followers_url": "https://api.github.com/users/erusev/followers",
      "following_url": "https://api.github.com/users/erusev/following{/other_user}",
      "gists_url": "https://api.github.com/users/erusev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erusev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erusev/subscriptions",
      "organizations_url": "https://api.github.com/users/erusev/orgs",
      "repos_url": "https://api.github.com/users/erusev/repos",
      "events_url": "https://api.github.com/users/erusev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erusev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-11T22:26:22Z",
    "updated_at": "2013-11-11T22:36:16Z",
    "body": "@mitio I appreciate your interest. 5.2 support is welcome as long as it doesn't hurt more recent versions. The role of the `goto` in question is not essential. I'd rather remove it than introduce another level of nesting. I'm not sure if it would be worth it, though, as that would make the parser a bit slower."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/28276769",
    "html_url": "https://github.com/erusev/parsedown/pull/25#issuecomment-28276769",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/25",
    "id": 28276769,
    "user": {
      "login": "mitio",
      "id": 129307,
      "avatar_url": "https://avatars.githubusercontent.com/u/129307?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mitio",
      "html_url": "https://github.com/mitio",
      "followers_url": "https://api.github.com/users/mitio/followers",
      "following_url": "https://api.github.com/users/mitio/following{/other_user}",
      "gists_url": "https://api.github.com/users/mitio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mitio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mitio/subscriptions",
      "organizations_url": "https://api.github.com/users/mitio/orgs",
      "repos_url": "https://api.github.com/users/mitio/repos",
      "events_url": "https://api.github.com/users/mitio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mitio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-12T08:44:02Z",
    "updated_at": "2013-11-12T08:44:16Z",
    "body": "If I understand it correctly, your premise is that replacing `goto` with an `if` will make the code slower. Do you have any benchmarks to verify this premise? To be honest, I'd be surprised to see any difference between the two, which is significant enough to be treated as an argument when choosing between `goto` and `if`. But anyway, only benchmarks on real data would tell the truth, anything else should be considered speculation.\r\n\r\nParsedown is a great library. I like it because it's simple, fast and has no external dependencies. It's quickly becoming popular. And with this popularity comes a certain form of responsibility to the community, so to speak :-) Sure, PHP 5.2.x is ancient, but it's still used on a decent amount of shared hostings out there. I'm using this library on such a host, for example, and it works great. And yes, the final decision which versions of PHP you want to support is yours. I'm just saying that it's not particularly hard (currenlty) to support 5.2 as well, because the code is simple and that would expand the potential userbase of the lib even more. I guess that if you don't want to burden the master branch with 5.2 compatibility, you can keep a separate, 5.2-compatible branch and just mention that in the readme, so people could use that in legacy software."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/28279439",
    "html_url": "https://github.com/erusev/parsedown/pull/25#issuecomment-28279439",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/25",
    "id": 28279439,
    "user": {
      "login": "hkdobrev",
      "id": 506129,
      "avatar_url": "https://avatars.githubusercontent.com/u/506129?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hkdobrev",
      "html_url": "https://github.com/hkdobrev",
      "followers_url": "https://api.github.com/users/hkdobrev/followers",
      "following_url": "https://api.github.com/users/hkdobrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/hkdobrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hkdobrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hkdobrev/subscriptions",
      "organizations_url": "https://api.github.com/users/hkdobrev/orgs",
      "repos_url": "https://api.github.com/users/hkdobrev/repos",
      "events_url": "https://api.github.com/users/hkdobrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hkdobrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-12T09:33:36Z",
    "updated_at": "2013-11-12T09:34:11Z",
    "body": "> I guess that if you don't want to burden the master branch with 5.2 compatibility, you can keep a separate, 5.2-compatible branch and just mention that in the readme, so people could use that in legacy software.\r\n\r\n@mitio +1\r\n\r\nI would recommend a tag though unless it would be maintained with future updates. Composer/Packagist would show the tag as a stable version, while the branch would be a `dev-` one."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/28279908",
    "html_url": "https://github.com/erusev/parsedown/pull/25#issuecomment-28279908",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/25",
    "id": 28279908,
    "user": {
      "login": "mitio",
      "id": 129307,
      "avatar_url": "https://avatars.githubusercontent.com/u/129307?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mitio",
      "html_url": "https://github.com/mitio",
      "followers_url": "https://api.github.com/users/mitio/followers",
      "following_url": "https://api.github.com/users/mitio/following{/other_user}",
      "gists_url": "https://api.github.com/users/mitio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mitio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mitio/subscriptions",
      "organizations_url": "https://api.github.com/users/mitio/orgs",
      "repos_url": "https://api.github.com/users/mitio/repos",
      "events_url": "https://api.github.com/users/mitio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mitio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-12T09:41:14Z",
    "updated_at": "2013-11-12T09:41:14Z",
    "body": "Sometimes it makes sense to backport some critical security and bug fixes. That's why I'd recommend using a branch. Having that, tagging releases from it can also be done."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/28344368",
    "html_url": "https://github.com/erusev/parsedown/pull/25#issuecomment-28344368",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/25",
    "id": 28344368,
    "user": {
      "login": "erusev",
      "id": 184170,
      "avatar_url": "https://avatars.githubusercontent.com/u/184170?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erusev",
      "html_url": "https://github.com/erusev",
      "followers_url": "https://api.github.com/users/erusev/followers",
      "following_url": "https://api.github.com/users/erusev/following{/other_user}",
      "gists_url": "https://api.github.com/users/erusev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erusev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erusev/subscriptions",
      "organizations_url": "https://api.github.com/users/erusev/orgs",
      "repos_url": "https://api.github.com/users/erusev/repos",
      "events_url": "https://api.github.com/users/erusev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erusev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-12T23:23:58Z",
    "updated_at": "2013-11-12T23:32:08Z",
    "body": "@mitio The `goto` is not essential to the functioning of the parser. Nothing depends on it. Removing it would not change the output. I'd rather remove it completely than add an extra level of nesting that an if statement would introduce. I apologize for not being clear enough in my first comment.\r\n\r\n> I guess that if you don't want to burden the master branch with 5.2 compatibility, you can keep a separate, 5.2-compatible branch and just mention that in the readme, so people could use that in legacy software.\r\n\r\nThis makes sense."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/28399522",
    "html_url": "https://github.com/erusev/parsedown/pull/25#issuecomment-28399522",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/25",
    "id": 28399522,
    "user": {
      "login": "mitio",
      "id": 129307,
      "avatar_url": "https://avatars.githubusercontent.com/u/129307?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mitio",
      "html_url": "https://github.com/mitio",
      "followers_url": "https://api.github.com/users/mitio/followers",
      "following_url": "https://api.github.com/users/mitio/following{/other_user}",
      "gists_url": "https://api.github.com/users/mitio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mitio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mitio/subscriptions",
      "organizations_url": "https://api.github.com/users/mitio/orgs",
      "repos_url": "https://api.github.com/users/mitio/repos",
      "events_url": "https://api.github.com/users/mitio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mitio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-13T14:44:31Z",
    "updated_at": "2013-11-13T14:44:31Z",
    "body": "Ah, I understand. Indeed, all tests pass even without this check. Do you want me to remove the `if` then, or do you prefer to create a separate branch where you'd keep this change?"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/28738443",
    "html_url": "https://github.com/erusev/parsedown/pull/25#issuecomment-28738443",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/25",
    "id": 28738443,
    "user": {
      "login": "erusev",
      "id": 184170,
      "avatar_url": "https://avatars.githubusercontent.com/u/184170?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erusev",
      "html_url": "https://github.com/erusev",
      "followers_url": "https://api.github.com/users/erusev/followers",
      "following_url": "https://api.github.com/users/erusev/following{/other_user}",
      "gists_url": "https://api.github.com/users/erusev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erusev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erusev/subscriptions",
      "organizations_url": "https://api.github.com/users/erusev/orgs",
      "repos_url": "https://api.github.com/users/erusev/repos",
      "events_url": "https://api.github.com/users/erusev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erusev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-18T21:13:30Z",
    "updated_at": "2013-11-18T21:13:30Z",
    "body": "PHP 5.2 is now supported. Thank you for the valuable feedback."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/28738838",
    "html_url": "https://github.com/erusev/parsedown/pull/25#issuecomment-28738838",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/25",
    "id": 28738838,
    "user": {
      "login": "mitio",
      "id": 129307,
      "avatar_url": "https://avatars.githubusercontent.com/u/129307?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mitio",
      "html_url": "https://github.com/mitio",
      "followers_url": "https://api.github.com/users/mitio/followers",
      "following_url": "https://api.github.com/users/mitio/following{/other_user}",
      "gists_url": "https://api.github.com/users/mitio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mitio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mitio/subscriptions",
      "organizations_url": "https://api.github.com/users/mitio/orgs",
      "repos_url": "https://api.github.com/users/mitio/repos",
      "events_url": "https://api.github.com/users/mitio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mitio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-18T21:18:10Z",
    "updated_at": "2013-11-18T21:18:10Z",
    "body": "Thanks! :)"
  }
]
