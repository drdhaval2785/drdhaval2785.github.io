{
  "url": "https://api.github.com/repos/erusev/parsedown/issues/88",
  "labels_url": "https://api.github.com/repos/erusev/parsedown/issues/88/labels{/name}",
  "comments_url": "https://api.github.com/repos/erusev/parsedown/issues/88/comments",
  "events_url": "https://api.github.com/repos/erusev/parsedown/issues/88/events",
  "html_url": "https://github.com/erusev/parsedown/issues/88",
  "id": 26838411,
  "number": 88,
  "title": "Support title in parentheses for reference-style links",
  "user": {
    "login": "hkdobrev",
    "id": 506129,
    "avatar_url": "https://avatars.githubusercontent.com/u/506129?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hkdobrev",
    "html_url": "https://github.com/hkdobrev",
    "followers_url": "https://api.github.com/users/hkdobrev/followers",
    "following_url": "https://api.github.com/users/hkdobrev/following{/other_user}",
    "gists_url": "https://api.github.com/users/hkdobrev/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hkdobrev/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hkdobrev/subscriptions",
    "organizations_url": "https://api.github.com/users/hkdobrev/orgs",
    "repos_url": "https://api.github.com/users/hkdobrev/repos",
    "events_url": "https://api.github.com/users/hkdobrev/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hkdobrev/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "url": "https://api.github.com/repos/erusev/parsedown/labels/issue",
      "name": "issue",
      "color": "f7c6c7"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "milestone": null,
  "comments": 4,
  "created_at": "2014-02-03T21:22:54Z",
  "updated_at": "2014-02-14T02:32:34Z",
  "closed_at": "2014-02-05T12:03:45Z",
  "body": "From the Markdown spec:\r\n\r\n> The following three link definitions are equivalent:\r\n> \r\n>     [foo]: http://example.com/  \"Optional Title Here\"\r\n>     [foo]: http://example.com/  'Optional Title Here'\r\n>     [foo]: http://example.com/  (Optional Title Here)\r\n\r\nParsedown is not supporting the third case. Here is a failing test:\r\n\r\n    [Reference link][link title with double quotes]\r\n    [Reference link][link title with single quotes]\r\n    [Reference link][link title with parentheses]\r\n\r\n    [Reference link with a space] [link title with double quotes]\r\n    [Reference link with a space] [link title with single quotes]\r\n    [Reference link with a space] [link title with parentheses]\r\n\r\n    [link title with double quotes]: http://example.com/  \"Double Quotes Title\"\r\n    [link title with single quotes]: http://example.com/  'Single Quotes Title'\r\n    [link title with parentheses]: http://example.com/  (Parentheses Title)\r\n\r\n``` html\r\n<p><a href=\"http://example.com/\" title=\"Double Quotes Title\">Reference link</a>\r\n<a href=\"http://example.com/\" title=\"Single Quotes Title\">Reference link</a>\r\n<a href=\"http://example.com/\" title=\"Parentheses Title\">Reference link</a></p>\r\n<p><a href=\"http://example.com/\" title=\"Double Quotes Title\">Reference link with a space</a>\r\n<a href=\"http://example.com/\" title=\"Single Quotes Title\">Reference link with a space</a>\r\n<a href=\"http://example.com/\" title=\"Parentheses Title\">Reference link with a space</a></p>\r\n```\r\n\r\nCurrently Parsedown outputs HTML like:\r\n``` html\r\n<a href=\"http://example.com/  (Parentheses Title)\">Reference link</a></p>\r\n```",
  "closed_by": {
    "login": "erusev",
    "id": 184170,
    "avatar_url": "https://avatars.githubusercontent.com/u/184170?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/erusev",
    "html_url": "https://github.com/erusev",
    "followers_url": "https://api.github.com/users/erusev/followers",
    "following_url": "https://api.github.com/users/erusev/following{/other_user}",
    "gists_url": "https://api.github.com/users/erusev/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/erusev/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/erusev/subscriptions",
    "organizations_url": "https://api.github.com/users/erusev/orgs",
    "repos_url": "https://api.github.com/users/erusev/repos",
    "events_url": "https://api.github.com/users/erusev/events{/privacy}",
    "received_events_url": "https://api.github.com/users/erusev/received_events",
    "type": "User",
    "site_admin": false
  }
}
BODY STARTS FROM HERE
[
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/34013622",
    "html_url": "https://github.com/erusev/parsedown/issues/88#issuecomment-34013622",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/88",
    "id": 34013622,
    "user": {
      "login": "scottchiefbaker",
      "id": 3429760,
      "avatar_url": "https://avatars.githubusercontent.com/u/3429760?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scottchiefbaker",
      "html_url": "https://github.com/scottchiefbaker",
      "followers_url": "https://api.github.com/users/scottchiefbaker/followers",
      "following_url": "https://api.github.com/users/scottchiefbaker/following{/other_user}",
      "gists_url": "https://api.github.com/users/scottchiefbaker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scottchiefbaker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scottchiefbaker/subscriptions",
      "organizations_url": "https://api.github.com/users/scottchiefbaker/orgs",
      "repos_url": "https://api.github.com/users/scottchiefbaker/repos",
      "events_url": "https://api.github.com/users/scottchiefbaker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scottchiefbaker/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-03T23:28:38Z",
    "updated_at": "2014-02-03T23:28:38Z",
    "body": "Why don't you submit a pull request with the failing test."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/34014724",
    "html_url": "https://github.com/erusev/parsedown/issues/88#issuecomment-34014724",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/88",
    "id": 34014724,
    "user": {
      "login": "hkdobrev",
      "id": 506129,
      "avatar_url": "https://avatars.githubusercontent.com/u/506129?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hkdobrev",
      "html_url": "https://github.com/hkdobrev",
      "followers_url": "https://api.github.com/users/hkdobrev/followers",
      "following_url": "https://api.github.com/users/hkdobrev/following{/other_user}",
      "gists_url": "https://api.github.com/users/hkdobrev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hkdobrev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hkdobrev/subscriptions",
      "organizations_url": "https://api.github.com/users/hkdobrev/orgs",
      "repos_url": "https://api.github.com/users/hkdobrev/repos",
      "events_url": "https://api.github.com/users/hkdobrev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hkdobrev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-03T23:42:51Z",
    "updated_at": "2014-02-03T23:42:51Z",
    "body": "@scottchiefbaker I've used to do that. Unfortunately GitHub pull requests are not made for that. Since a GitHub pull request is a subset of a GitHub issue, pull requests are like issues with code attached. Here are some example scenarios:\r\n- I submit a PR with a failing test. The PR is merged. The build fails.\r\n- I submit a PR with a failing test. A new PR is submitted with a fix. The new PR is merged. Then my PR is merged so the test goes to the testsuite. The new PR then would not make sense without the test as a part of it.\r\n- I submit a PR with a failing test. A new PR is submitted which includes both the fix and my test (it means the test was most probably copy-pasted or `git apply`ed, but it doesn't matter). My PR is not merged and closed.\r\n\r\nThe second scenario is ideal for a PR in a private repo or in a repo where everyone involved has a push access. Then I would submit a PR with a failing test from another branch in the same repo. The person who would fix it could push the same branch and therefore update the PR.\r\n\r\nSince every working scenario in a public repo is either not really userful (or right) or involves copy-paste-like techniques, I've decided I would just post it as a simple issue. With an issue no one could get confused whether the PR fixes something or just points out the problem. Also all the contributing stats for issues vs. pull requests which could be extracted would be correct."
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/34060753",
    "html_url": "https://github.com/erusev/parsedown/issues/88#issuecomment-34060753",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/88",
    "id": 34060753,
    "user": {
      "login": "wkpark",
      "id": 232347,
      "avatar_url": "https://avatars.githubusercontent.com/u/232347?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wkpark",
      "html_url": "https://github.com/wkpark",
      "followers_url": "https://api.github.com/users/wkpark/followers",
      "following_url": "https://api.github.com/users/wkpark/following{/other_user}",
      "gists_url": "https://api.github.com/users/wkpark/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wkpark/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wkpark/subscriptions",
      "organizations_url": "https://api.github.com/users/wkpark/orgs",
      "repos_url": "https://api.github.com/users/wkpark/repos",
      "events_url": "https://api.github.com/users/wkpark/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wkpark/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-04T13:54:22Z",
    "updated_at": "2014-02-04T13:54:22Z",
    "body": "this is my try to fix it using conditional subpattern\r\n~~~patch\r\ndiff --git a/Parsedown.php b/Parsedown.php\r\nindex 040b774..4c32d4d 100755\r\n--- a/Parsedown.php\r\n+++ b/Parsedown.php\r\n@@ -426,7 +426,7 @@ class Parsedown\r\n\r\n                     # reference\r\n\r\n-                    if (preg_match('/^\\[(.+?)\\]:[ ]*(.+?)(?:[ ]+[\\'\"](.+?)[\\'\"])?[ ]*$/', $outdented_line, $matches))\r\n+                    if (preg_match('/^\\[(.+?)\\]:[ ]*(.+?)(?:[ ]+(?:([\\'\"])|(\\())(.+?)(?(4)\\)|\\3))?[ ]*$/', $outdented_line, $matches))\r\n                     {\r\n                         $label = strtolower($matches[1]);\r\n\r\n@@ -434,9 +434,9 @@ class Parsedown\r\n                             '»' => trim($matches[2], '<>'),\r\n                         );\r\n\r\n-                        if (isset($matches[3]))\r\n+                        if (isset($matches[5]))\r\n                         {\r\n-                            $this->reference_map[$label]['#'] = $matches[3];\r\n+                            $this->reference_map[$label]['#'] = $matches[5];\r\n                         }\r\n\r\n                         continue 2;\r\n~~~"
  },
  {
    "url": "https://api.github.com/repos/erusev/parsedown/issues/comments/35050204",
    "html_url": "https://github.com/erusev/parsedown/issues/88#issuecomment-35050204",
    "issue_url": "https://api.github.com/repos/erusev/parsedown/issues/88",
    "id": 35050204,
    "user": {
      "login": "wkpark",
      "id": 232347,
      "avatar_url": "https://avatars.githubusercontent.com/u/232347?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wkpark",
      "html_url": "https://github.com/wkpark",
      "followers_url": "https://api.github.com/users/wkpark/followers",
      "following_url": "https://api.github.com/users/wkpark/following{/other_user}",
      "gists_url": "https://api.github.com/users/wkpark/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wkpark/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wkpark/subscriptions",
      "organizations_url": "https://api.github.com/users/wkpark/orgs",
      "repos_url": "https://api.github.com/users/wkpark/repos",
      "events_url": "https://api.github.com/users/wkpark/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wkpark/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-14T02:31:35Z",
    "updated_at": "2014-02-14T02:32:34Z",
    "body": "the following reference does not work correctly (found Markdown Basic.text)\r\n~~~\r\n      [s]: /url/      \"test\"\r\n~~~\r\nspaces after url are acceptable and have to be trimed out"
  }
]
